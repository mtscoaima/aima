================================================================================
                    KG 이니시스 → Nice Payments 결제 시스템 마이그레이션 계획
                                 (점진적 교체 버전)
================================================================================

📅 작성일: 2025-09-29
📅 최종 업데이트: 2025-09-29 (Phase 1-2 완료)
📝 목적: 사용하지 않는 KG 이니시스 결제 로직을 Nice Payments로 교체
⚠️ 주의: 현재 수동 충전 방식 유지, KG이니시스 본인인증 시스템 절대 유지
🔄 전략: KG이니시스 결제 코드 삭제 → Nice Payments 코드로 교체
🎯 목표: 나중에 수동 충전에서 자동 결제로 전환할 때 Ready

📊 진행 상황:
✅ Phase 1: KG이니시스 결제 코드 정리 완료 (2025-09-29)
✅ Phase 2: Nice Payments 환경 설정 완료 (2025-09-29)
🔄 Phase 3: Nice Payments API 라우트 구현 (진행 예정)
⏳ Phase 4: PaymentModal 컴포넌트 재작성 (대기 중)
⏳ Phase 5: 연동 및 테스트 (대기 중)
⏳ Phase 6: 문서 정리 및 완료 (대기 중)
⏳ Phase 7: 나중에 활성화 (언제든지 가능)

================================================================================
📋 목차
================================================================================

1. 현재 상황 분석
2. Nice Payments 시스템 개요
3. 마이그레이션 전략
4. 환경변수 변경 계획
5. 파일 수정 계획
6. 결제 플로우 변경
7. 수정 파일 목록
8. 마이그레이션 단계별 실행 계획
9. 테스트 계획
10. 위험 요소 및 대응 방안
11. 체크리스트

================================================================================
1. 현재 상황 분석
================================================================================

1.1 현재 운영 중인 시스템 현황
----------------------------------------
✅ 현재 활성화된 기능:
- 수동 충전 방식 (계좌이체 + 연락)
- PaymentNoticeModal을 통한 계좌 정보 안내
- 관리자가 직접 포인트/광고머니 충전
- 본인인증 시스템 (KG이니시스 - 정상 작동)

🔒 현재 비활성화된 기능 (주석처리):
- KG이니시스 결제창 기반 카드 결제
- JavaScript SDK 방식 구현
- 4단계 결제 플로우 (PaymentModal의 주석처리된 부분)
- 서버사이드 해시 검증 (구현되어 있으나 비활성화)

1.2 현재 결제 시스템 구조
----------------------------------------
📱 활성화된 결제 플로우:
credit-management/page.tsx → handleCharge() → PaymentNoticeModal
→ 계좌이체 안내 → 수동 처리

🔒 비활성화된 결제 플로우 (주석처리):
credit-management/page.tsx → handleCharge() → PaymentModal (주석)
→ KG이니시스 결제창 → 자동 처리

1.3 발견된 파일 분류 (총 26개)
----------------------------------------
🟢 본인인증 관련 (절대 수정 금지):
- src/app/api/auth/inicis-auth/request/route.ts
- src/app/api/auth/inicis-auth/callback/route.ts
- src/app/api/auth/inicis-auth/result/route.ts
- src/app/auth/inicis/callback/page.tsx
- src/app/auth/inicis/success/page.tsx
- src/lib/kisaSeed.ts

🔒 결제 관련 (현재 비활성화, 향후 교체 대상):
- src/components/credit/PaymentModal.tsx (주석처리된 부분)
- src/app/api/payment/inicis/request/route.ts
- src/app/api/payment/inicis/return/route.ts
- src/app/api/payment/confirm/route.ts
- src/app/payment/close/page.tsx

🟡 설정 및 문서 (업데이트 필요):
- docs/env.txt
- docs/KG이니시스 사용가이드.txt

1.3 현재 환경변수
----------------------------------------
# KG이니시스 선불 결제 테스트용
INICIS_MID=INIpayTest
INICIS_SIGNKEY=SU5JTElURV9UUklQTEVERVNfS0VZU1RS

# KG이니시스 후불 결제 테스트용
KGINICIS_TEST_MODE=true
KGINICIS_API_KEY=ItEQKi3rY7uvDS8l
KGINICIS_SIGN_KEY=SU5JTElURV9UUklQTEVERVNfS0VZRA
KGINICIS_API_URL=https://mobile.inicis.com
KGINICIS_BILLING_URL=https://mobile.inicis.com/smart/billing
KGINICIS_TEST_CARD_NUMBER=4092-0230-1234-5678
KGINICIS_TEST_EXPIRY=12/25
KGINICIS_TEST_CVC=123

================================================================================
2. Nice Payments 시스템 개요
================================================================================

2.1 Nice Payments 특징
----------------------------------------
✨ 주요 특징:
- Server 승인 모델 사용
- 간단한 2단계 플로우: 결제창 → 승인 API
- RESTful API 기반
- Basic Auth 인증 방식
- 실시간 승인 처리

2.2 기술 스택
----------------------------------------
📦 주요 구성요소:
- JS SDK: https://pay.nicepay.co.kr/v1/js/
- API 도메인:
  * 운영: api.nicepay.co.kr
  * 샌드박스: sandbox-api.nicepay.co.kr
- 인증: Basic Auth (clientId:secretKey의 Base64 인코딩)
- 결제창: AUTHNICE.requestPay() 메소드

2.3 결제 플로우
----------------------------------------
1. 사용자가 결제 버튼 클릭
2. AUTHNICE.requestPay() 호출로 결제창 띄움
3. 사용자가 결제창에서 카드 정보 입력 및 인증
4. returnUrl로 인증 결과 POST
5. 서버에서 위변조 검증 후 승인 API 호출
6. 결제 완료 처리

================================================================================
3. 점진적 마이그레이션 전략
================================================================================

3.1 기본 원칙
----------------------------------------
🎯 핵심 원칙:
1. 현재 수동 충전 방식(PaymentNoticeModal)은 절대 건드리지 않음
2. KG이니시스 본인인증 시스템은 절대 건드리지 않음
3. 사용하지 않는 KG이니시스 결제 코드는 완전 삭제
4. Nice Payments 결제 코드로 깔끔하게 교체
5. 나중에 수동→자동 전환할 때 바로 사용 가능한 상태로 준비

3.2 교체 방식
----------------------------------------
🔄 명확한 교체 전략:

Phase 1: KG이니시스 결제 코드 정리
- 사용하지 않는 KG이니시스 결제 관련 파일 삭제
- KG이니시스 결제 환경변수 삭제
- 본인인증 관련 코드는 절대 건드리지 않음

Phase 2: Nice Payments 코드 구현
- Nice Payments API 라우트 구현
- Nice Payments PaymentModal 구현
- Nice Payments 환경변수 설정

Phase 3: 연동 준비 완료
- 모든 기능 구현 및 테스트 완료
- 나중에 handleCharge에서 한 줄만 바꾸면 자동 결제 활성화
- 현재는 수동 충전 방식 그대로 유지

================================================================================
4. 환경변수 변경 계획
================================================================================

4.1 제거할 환경변수 (결제 관련만)
----------------------------------------
❌ 삭제 대상 (결제 관련):
INICIS_MID=INIpayTest
INICIS_SIGNKEY=SU5JTElURV9UUklQTEVERVNfS0VZU1RS
KGINICIS_TEST_MODE=true
KGINICIS_API_KEY=ItEQKi3rY7uvDS8l
KGINICIS_SIGN_KEY=SU5JTElURV9UUklQTEVERVNfS0VZRA
KGINICIS_API_URL=https://mobile.inicis.com
KGINICIS_BILLING_URL=https://mobile.inicis.com/smart/billing
KGINICIS_TEST_CARD_NUMBER=4092-0230-1234-5678
KGINICIS_TEST_EXPIRY=12/25
KGINICIS_TEST_CVC=123

🟢 유지할 환경변수 (본인인증 관련):
- KG이니시스 본인인증 관련 환경변수는 모두 유지

4.2 추가할 환경변수
----------------------------------------
✅ 추가 대상:

# Nice Payments 테스트 환경
NICEPAY_CLIENT_ID=S2_xxxxxxxxxxxxxxxxxxxxxxxxx
NICEPAY_SECRET_KEY=xxxxxxxxxxxxxxxxxxxxxxxx
NICEPAY_API_URL=https://sandbox-api.nicepay.co.kr
NICEPAY_JS_SDK_URL=https://sandbox-pay.nicepay.co.kr/v1/js/

# Nice Payments 운영 환경 (나중에 변경)
# NICEPAY_CLIENT_ID=R1_xxxxxxxxxxxxxxxxxxxxxxxxx
# NICEPAY_SECRET_KEY=xxxxxxxxxxxxxxxxxxxxxxxx
# NICEPAY_API_URL=https://api.nicepay.co.kr
# NICEPAY_JS_SDK_URL=https://pay.nicepay.co.kr/v1/js/

4.3 환경변수 적용 순서
----------------------------------------
1. .env.local 파일에 Nice Payments 변수 추가
2. KG이니시스 변수는 임시로 주석 처리 (완전 제거 전까지)
3. 코드 수정 완료 후 KG이니시스 변수 완전 삭제

================================================================================
5. 파일 수정 계획
================================================================================

5.1 현재 시스템 보존 (수정하지 않음)
----------------------------------------
🔒 절대 수정 금지:
- src/app/credit-management/page.tsx의 현재 handleCharge 로직
- src/components/credit/PaymentNoticeModal.tsx
- 현재 활성화된 수동 충전 플로우
- 본인인증 관련 모든 파일

5.2 삭제할 파일 (KG이니시스 결제 관련)
----------------------------------------
🗑️ 완전 삭제 대상:
- src/app/api/payment/inicis/request/route.ts
- src/app/api/payment/inicis/return/route.ts
- src/components/credit/PaymentModal.tsx (KG이니시스 버전)
- src/app/payment/close/page.tsx (필요시 수정)

❌ 백업 불필요 (어차피 사용하지 않을 예정)

5.3 새로 생성할 파일 (Nice Payments)
----------------------------------------
📁 새로운 컴포넌트:
- src/components/credit/PaymentModal.tsx (Nice Payments 버전으로 새로 작성)
  * AUTHNICE.requestPay() 방식 구현
  * 기존 이름 그대로 사용

📁 새로운 API 라우트:
- src/app/api/payment/nicepay/request/route.ts
- src/app/api/payment/nicepay/return/route.ts
- src/app/api/payment/nicepay/success/route.ts

5.4 수정할 파일
----------------------------------------
🔧 수정 필요:
- src/app/api/payment/confirm/route.ts (Nice Payments 방식으로 수정)
- src/app/payment/close/page.tsx (Nice Payments 응답 형식에 맞게 수정)

🔧 나중에 활성화 시 수정:
- src/app/credit-management/page.tsx
  * handleCharge에서 PaymentNoticeModal → PaymentModal로 변경
  * 단 한 줄만 수정: setIsNoticeModalOpen(true) → setIsPaymentModalOpen(true)

================================================================================
6. 결제 플로우 변경
================================================================================

6.1 현재 활성화된 수동 충전 플로우
----------------------------------------
📱 현재 운영 중인 플로우:
1. 사용자가 충전 금액 입력
2. "충전하기" 버튼 클릭
3. handleCharge() → setIsNoticeModalOpen(true)
4. PaymentNoticeModal 팝업 표시
5. 계좌 정보 (농협 301-0372-6312-41) 안내
6. 사용자가 수동으로 계좌이체
7. 연락처(010-9459-2733)로 연락
8. 관리자가 수동으로 크레딧 충전

6.2 향후 구현할 Nice Payments 자동 결제 플로우
----------------------------------------
📊 백그라운드에서 준비할 플로우:
1. 사용자가 충전 금액 입력
2. "충전하기" 버튼 클릭
3. handleCharge() → setIsPaymentModalOpen(true) (변경 예정)
4. NicePaymentModal 팝업 표시
5. AUTHNICE.requestPay() 호출로 결제창 띄움
6. 결제 완료 후 returnUrl로 POST 응답
7. 서버에서 위변조 검증 후 승인 API 호출
8. 자동으로 크레딧 충전 처리

6.3 전환 시점의 변경사항
----------------------------------------
🔄 활성화 시 변경되는 부분:
- handleCharge 함수 내 단 한 줄만 변경
- setIsNoticeModalOpen(true) → setIsPaymentModalOpen(true)
- 수동 프로세스 → 자동 프로세스로 즉시 전환
- 언제든지 다시 수동으로 롤백 가능

6.3 플로우 단순화 장점
----------------------------------------
✨ 개선점:
- 단계 수 감소: 4단계 → 2단계
- 코드 복잡도 감소
- 에러 포인트 감소
- 사용자 경험 개선
- 유지보수성 향상

================================================================================
7. 수정 파일 목록
================================================================================

7.1 Priority 1 (핵심 파일)
----------------------------------------
🔴 즉시 수정 필요:
1. src/components/credit/PaymentModal.tsx (완전 재작성)
2. src/app/api/payment/nicepay/request/route.ts (신규 생성)
3. src/app/api/payment/nicepay/return/route.ts (신규 생성)
4. src/app/api/payment/nicepay/approve/route.ts (신규 생성)

7.2 Priority 2 (연관 파일)
----------------------------------------
🟡 순차 수정:
5. src/app/api/payment/confirm/route.ts (수정)
6. src/app/payment/close/page.tsx (수정)
7. src/app/credit-management/page.tsx (확인 및 조정)

7.3 Priority 3 (정리 및 문서)
----------------------------------------
🟢 마지막 정리:
8. src/app/api/payment/inicis/request/route.ts (삭제)
9. src/app/api/payment/inicis/return/route.ts (삭제)
10. docs/env.txt (업데이트)
11. docs/KG이니시스 사용가이드.txt (Nice Payments 가이드로 교체)

7.4 절대 수정하지 않을 파일
----------------------------------------
🚫 보존 대상 (본인인증 관련):
- src/app/api/auth/inicis-auth/request/route.ts
- src/app/api/auth/inicis-auth/callback/route.ts
- src/app/api/auth/inicis-auth/result/route.ts
- src/app/auth/inicis/callback/page.tsx
- src/app/auth/inicis/success/page.tsx
- src/lib/kisaSeed.ts
- src/components/profile/MemberInfoTab.tsx (본인인증 호출 부분)
- src/app/signup/page.tsx (본인인증 호출 부분)
- src/app/auth/find-username/page.tsx
- src/app/auth/find-password/page.tsx

================================================================================
8. 마이그레이션 단계별 실행 계획
================================================================================

8.1 Phase 1: KG이니시스 결제 코드 정리 ✅ 완료 (소요: 0.5일)
----------------------------------------
📅 Day 1: ✅ 완료됨
✅ 브랜치 생성: feature/replace-inicis-with-nicepay
✅ KG이니시스 결제 관련 파일 삭제:
  - src/app/api/payment/inicis/request/route.ts ✅ 삭제됨
  - src/app/api/payment/inicis/return/route.ts ✅ 삭제됨
  - src/components/credit/PaymentModal.tsx (KG이니시스 버전) ✅ 삭제됨
  - src/app/api/payment/inicis/ 디렉토리 ✅ 완전 삭제됨
✅ KG이니시스 결제 관련 환경변수 삭제:
  - INICIS_MID, INICIS_SIGNKEY ✅ 삭제됨
  - KGINICIS_TEST_MODE, KGINICIS_API_KEY 등 ✅ 삭제됨
  - KGINICIS_TEST_CARD_NUMBER 등 ✅ 삭제됨
✅ 본인인증 관련 파일/환경변수는 완전히 보존됨
✅ 수동 충전 시스템(PaymentNoticeModal)은 전혀 건드리지 않음

8.2 Phase 2: Nice Payments 환경 설정 ✅ 완료 (소요: 0.5일)
----------------------------------------
📅 Day 1: ✅ 완료됨
✅ Nice Payments 샌드박스 테스트 키 설정 완료
✅ API KEY 설정 (샌드박스):
  - NICEPAY_CLIENT_ID=S2_af4543a0be4d49a98122e01ec2059a56
  - NICEPAY_SECRET_KEY=9eb85607103646da9f9c02b128f2e5ee
✅ Nice Payments 환경변수 추가:
  - NICEPAY_API_URL=https://sandbox-api.nicepay.co.kr
  - NICEPAY_JS_SDK_URL=https://sandbox-pay.nicepay.co.kr/v1/js/
✅ 환경변수 가이드 업데이트 (docs/env.txt)

8.3 Phase 3: Nice Payments API 라우트 구현 (예상 소요: 2일)
----------------------------------------
📅 Day 2-3:
□ /api/payment/nicepay/request 구현
  - 주문 정보 생성
  - 서명 생성 로직
  - 데이터베이스 저장
□ /api/payment/nicepay/return 구현
  - POST 데이터 수신
  - 위변조 검증
  - 승인 API 호출
□ /api/payment/nicepay/success 구현
  - 결제 성공 처리
  - 크레딧 충전 로직
□ /api/payment/confirm 수정 (Nice Payments 방식으로)

8.4 Phase 4: PaymentModal 컴포넌트 재작성 (예상 소요: 2일)
----------------------------------------
📅 Day 4-5:
□ PaymentModal.tsx 새로 작성 (Nice Payments 방식)
□ Nice Payments JS SDK 로드 구현
□ AUTHNICE.requestPay() 메소드 구현
□ 결제창 옵션 설정 (카드결제, 금액, returnUrl 등)
□ 에러 처리 및 로딩 상태 구현
□ 팝업 차단 해제 안내 추가

8.5 Phase 5: 연동 및 테스트 (예상 소요: 2일)
----------------------------------------
📅 Day 6-7:
□ src/app/payment/close/page.tsx 수정 (Nice Payments 응답 형식에 맞게)
□ 로컬 환경 테스트
□ 샌드박스 환경 결제 테스트
□ 에러 시나리오 테스트
□ 브라우저 호환성 테스트
□ 모바일 환경 테스트
□ 본인인증 기능 영향도 확인 (절대 영향 없어야 함)

8.6 Phase 6: 문서 정리 및 완료 (예상 소요: 0.5일)
----------------------------------------
📅 Day 8:
□ 모든 테스트 통과 확인
□ Nice Payments 사용가이드 작성
□ 코드 리뷰 및 최종 점검
□ 운영 환경변수 준비
✅ Nice Payments 결제 시스템 준비 완료

8.7 Phase 7: 나중에 활성화 (언제든지 가능)
----------------------------------------
🚀 수동 → 자동 전환 시점 (원할 때 언제든지):
□ 운영 환경변수로 변경
□ handleCharge에서 단 한 줄 수정:
  - setIsNoticeModalOpen(true) → setIsPaymentModalOpen(true)
□ 실제 결제 테스트 및 모니터링
🎯 이 작업으로 수동 충전 → 자동 결제로 즉시 전환

================================================================================
9. 테스트 계획
================================================================================

9.1 단위 테스트
----------------------------------------
🧪 개별 기능 테스트:
□ 서명 생성 로직 테스트
□ 위변조 검증 로직 테스트
□ API 호출 및 응답 처리 테스트
□ 에러 처리 로직 테스트

9.2 통합 테스트
----------------------------------------
🔗 전체 플로우 테스트:
□ 정상 결제 플로우 테스트
□ 결제 취소 플로우 테스트
□ 결제 실패 시나리오 테스트
□ 네트워크 오류 시나리오 테스트
□ 타임아웃 시나리오 테스트

9.3 사용자 시나리오 테스트
----------------------------------------
👤 실제 사용 환경 테스트:
□ 다양한 결제 금액 테스트 (1만원, 5만원, 10만원, 50만원)
□ 다양한 카드사 테스트
□ 팝업 차단 상황 테스트
□ 모바일 브라우저 테스트
□ 다양한 웹 브라우저 테스트 (Chrome, Safari, Edge, Firefox)

9.4 보안 테스트
----------------------------------------
🛡️ 보안 검증:
□ 위변조 방지 검증
□ 민감 정보 노출 점검
□ HTTPS 강제 적용 확인
□ 서명 검증 로직 점검

================================================================================
10. 위험 요소 및 대응 방안
================================================================================

10.1 기술적 위험
----------------------------------------
⚠️ 위험 요소:
1. Nice Payments API 호출 실패
   → 대응: 재시도 로직 및 fallback 메커니즘 구현

2. 팝업 차단으로 인한 결제창 미노출
   → 대응: 팝업 차단 해제 안내 강화, 리다이렉트 방식 대안 제공

3. 서명 검증 실패
   → 대응: 충분한 테스트와 검증 로직 강화

4. 브라우저 호환성 문제
   → 대응: 주요 브라우저 테스트 및 polyfill 적용

10.2 비즈니스 위험
----------------------------------------
💼 위험 요소:
1. 결제 서비스 중단으로 인한 매출 손실
   → 대응: 현재 수동 충전 방식 유지로 위험 최소화, 즉시 롤백 가능

2. 기존 본인인증 기능 영향
   → 대응: 본인인증 관련 코드 절대 수정 금지, 완전 분리 개발

3. 수동 충전 방식 중단 위험
   → 대응: Nice Payments 완전 준비 완료 전까지 현재 방식 유지

4. 사용자 경험 저하
   → 대응: 백그라운드 충분한 테스트, UI/UX 사전 검증

10.3 데이터 위험
----------------------------------------
💾 위험 요소:
1. 기존 거래 데이터 호환성 문제
   → 대응: 기존 데이터베이스 스키마 유지, 점진적 마이그레이션

2. 거래 데이터 유실
   → 대응: 충분한 백업 및 로그 기록, 트랜잭션 처리

================================================================================
11. 체크리스트
================================================================================

11.1 개발 전 체크리스트
----------------------------------------
📋 사전 준비:
□ Nice Payments 회원가입 완료
□ 샌드박스 API KEY 발급 완료
□ 개발 환경 설정 완료
□ 브랜치 생성 완료
□ 기존 코드 백업 완료

11.2 개발 중 체크리스트
----------------------------------------
📋 개발 진행:
□ 환경변수 설정 완료
□ API 라우트 구현 완료
□ PaymentModal 재작성 완료
□ 기존 파일 수정 완료
□ 기존 KG이니시스 코드 정리 완료

11.3 테스트 체크리스트
----------------------------------------
📋 테스트 진행:
□ 로컬 환경 테스트 통과
□ 샌드박스 환경 테스트 통과
□ 다양한 브라우저 테스트 통과
□ 모바일 환경 테스트 통과
□ 본인인증 기능 영향도 확인 완료
□ 에러 시나리오 테스트 통과

11.4 배포 전 체크리스트
----------------------------------------
📋 배포 준비:
□ 운영 환경변수 준비 완료
□ JS SDK URL 운영용으로 변경 완료
□ 문서 업데이트 완료
□ 코드 리뷰 완료
□ 최종 점검 완료

11.5 배포 후 체크리스트
----------------------------------------
📋 배포 확인:
□ 운영 환경 결제 테스트 완료
□ 로그 및 모니터링 확인
□ 사용자 피드백 수집
□ 성능 지표 확인
□ 예상치 못한 오류 모니터링

================================================================================
📞 긴급 상황 대응
================================================================================

🚨 긴급 상황 시 대응 방안:
1. 즉시 이전 버전으로 롤백
2. KG이니시스 환경변수 복구
3. 기존 PaymentModal 코드 복구
4. 사용자 공지 및 안내
5. 문제 원인 분석 및 해결

📧 연락처:
- 개발팀 내부 채널
- Nice Payments 기술 지원: 고객센터 또는 기술문의
- 인프라팀 (배포 관련)

================================================================================
📈 마이그레이션 성공 기준
================================================================================

✅ 성공 지표:
1. 샌드박스 환경에서 100% 결제 성공률
2. 운영 환경에서 테스트 결제 정상 처리
3. 기존 본인인증 기능 정상 작동
4. 페이지 로딩 시간 기존 대비 유지 또는 개선
5. 사용자 에러 리포트 제로
6. 모든 주요 브라우저에서 정상 작동

🎯 목표 달성 시점: 2025년 10월 초 (약 2주 내)

================================================================================
📄 버전 정보
================================================================================

문서 버전: 1.0
작성일: 2025-09-29
최종 수정일: 2025-09-29
작성자: Claude Code
검토자: [검토자명]

================================================================================
📚 참고 문서
================================================================================

- Nice Payments 개발자 가이드: docs/nicepay-manual/
- 기존 KG이니시스 가이드: docs/KG이니시스 사용가이드.txt
- 환경변수 가이드: docs/env.txt
- 프로젝트 구조: CLAUDE.md

================================================================================
⚠️ 중요 알림 - 점진적 마이그레이션 방식
================================================================================

🔒 현재 운영 중인 수동 충전 시스템은 그대로 유지하고, 사용하지 않는 KG이니시스 결제 코드만 Nice Payments로 교체합니다.

📋 핵심 원칙:
1. 현재 PaymentNoticeModal 방식은 그대로 유지 ✅ 보존됨
2. KG이니시스 결제 관련 코드는 완전 삭제 (백업 불필요) ✅ 삭제 완료
3. Nice Payments 결제 코드로 깔끔하게 교체 🔄 진행 중
4. 나중에 원할 때 한 줄만 수정해서 자동 결제 활성화
5. KG이니시스 본인인증 기능은 절대로 건드리지 마세요 ✅ 보존됨
6. 총 작업 기간: 약 8일 (실제 서비스에는 영향 없음)

🎯 목표: Nice Payments 결제 시스템을 완전히 준비해두고, 언제든지 활성화 가능한 상태로 만들기

================================================================================