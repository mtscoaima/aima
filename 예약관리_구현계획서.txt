=====================================================
MTS Message ì˜ˆì•½ ê´€ë¦¬ ì‹œìŠ¤í…œ êµ¬í˜„ ê³„íšì„œ (í†µí•©ë³¸)
í˜„ì¬ UI ê¸°ë°˜ í•„ìˆ˜ ê¸°ëŠ¥ë§Œ êµ¬í˜„
=====================================================

ğŸ“‹ ëª©ì°¨
1. í˜„ì¬ UI ë¶„ì„ ë° ì‹¤ì œ í•„ìš” ê¸°ëŠ¥
2. ê°„ì†Œí™”ëœ êµ¬í˜„ ê³„íš
3. ìµœì†Œ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„
4. API ì„¤ê³„
5. ê°œë°œ ì¼ì • ë° ì§„í–‰ ìƒí™©
6. Phase 2 ìƒì„¸ êµ¬í˜„ ê°€ì´ë“œ
7. í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤
8. ë‹¤ìŒ ë‹¨ê³„

=====================================================
1. í˜„ì¬ UI ë¶„ì„ ë° ì‹¤ì œ í•„ìš” ê¸°ëŠ¥
=====================================================

ğŸ¯ **ì‹¤ì œ UIì—ì„œ í™•ì¸ëœ í•„ìˆ˜ ê¸°ëŠ¥ë§Œ êµ¬í˜„:**

ğŸ“± **í˜„ì¬ UI êµ¬ì¡° (ê°„ì†Œí™”ë¨):**
/reservations/
â”œâ”€â”€ page.tsx (ë‹¨ìˆœ ë©”ë‰´ ëŒ€ì‹œë³´ë“œ)
â”œâ”€â”€ places/
â”‚   â”œâ”€â”€ page.tsx (ê³µê°„ ëª©ë¡ - ë‹¨ìˆœ UI)
â”‚   â””â”€â”€ add/ (ê³µê°„ ì¶”ê°€ - ë‹¨ìˆœ í¼)
â”œâ”€â”€ create/ (ì˜ˆì•½ ìƒì„± - ë‹¨ìˆœ í¼)
â”œâ”€â”€ list/ (ì˜ˆì•½ ë¦¬ìŠ¤íŠ¸ - ë‹¨ìˆœ ëª©ë¡)
â”œâ”€â”€ calendar/ (ìº˜ë¦°ë” - ë‹¨ìˆœ ë·°)
â”œâ”€â”€ message/ (ë©”ì‹œì§€ - ë‹¨ìˆœ ê¸°ëŠ¥)
â””â”€â”€ statistics/ (í†µê³„ - ë‹¨ìˆœ ëŒ€ì‹œë³´ë“œ)

ğŸ” **UI ë¶„ì„ ê²°ê³¼:**
- í˜„ì¬ UIëŠ” ë§¤ìš° ë‹¨ìˆœí•œ êµ¬ì¡°
- ë³µì¡í•œ ê¸°ëŠ¥ë³´ë‹¤ëŠ” ê¸°ë³¸ì ì¸ CRUD ì¤‘ì‹¬
- ê¸°ì¡´ ê³„íšì´ ê³¼ë„í•˜ê²Œ ë³µì¡í•¨
- HTML êµ¬ì¡°ëŠ” ìœ ì§€í•˜ê³  ê¸°ëŠ¥ë§Œ ì—°ê²°

=====================================================
2. ê°„ì†Œí™”ëœ í•µì‹¬ ê¸°ëŠ¥ (í˜„ì¬ UI ê¸°ì¤€)
=====================================================

ğŸ¯ **ì‹¤ì œ êµ¬í˜„í•  í•µì‹¬ ê¸°ëŠ¥ (11ê°œ):**

ğŸ“¦ **ìŠ¤ë§ˆíŠ¸ ìº˜ë¦°ë” ê¸°ëŠ¥ (7ê°œ):**
1. **ë‚´ ê³µê°„ ìƒì„±í•˜ê¸°** - ì—¬ëŸ¬ í”Œë«í¼ì— í©ì–´ì§„ ë‚´ ê³µê°„ë“¤ì„ í•œë²ˆì— ê´€ë¦¬
2. **ì˜ˆì•½ ì¶”ê°€í•˜ê¸°** - ìŠ¤ë§ˆíŠ¸ ìº˜ë¦°ë”ë¡œ ì˜ˆì•½ ì„¸ë¶€ ì‚¬í•­ë“¤ì„ í¸ë¦¬í•˜ê²Œ ê¸°ë¡
3. **ì˜ˆì•½ ì •ë³´ ì…ë ¥í•˜ê¸°** - ê¸ˆì•¡ ì¶”ê°€, ë¶€ë¶„ í™˜ë¶ˆ ë“±, ì˜ˆì•½ ë³„ íŠ¹ì´ì‚¬í•­ë“¤ì„ ê¼¼ê¼¼í•˜ê²Œ ê¸°ë¡
4. **ì˜ˆì•½ ìº˜ë¦°ë” ë³´ê¸°** - ë“±ë¡ëœ ì˜ˆì•½ë“¤ì„ ìº˜ë¦°ë”ë¡œ ë¹ ë¥´ê²Œ íŒŒì•…í•˜ê³  ê´€ë¦¬
5. **ìµœê·¼ ì˜ˆì•½ ë‚´ì—­ ë³´ê¸°** - ìµœê·¼ ì˜ˆì•½ ë¦¬ìŠ¤íŠ¸ë¥¼ í•œëˆˆì— í™•ì¸
6. **ê³µìœ  ìº˜ë¦°ë” ë§Œë“¤ê¸°** - ì‹¤ì‹œê°„ ì˜ˆì•½ í˜„í™©ì„ ì™¸ë¶€ì— ë§í¬ë¡œ í¸ë¦¬í•˜ê²Œ ê³µìœ 
7. **ì˜ˆì•½ ë°ì´í„° ë‹¤ìš´ë°›ê¸°** - í†µê³„ì— í™œìš©ëœ ì›ë³¸ ì˜ˆì•½ ë°ì´í„°ë¥¼ ì—‘ì…€ë¡œ í™œìš©

ğŸ’¬ **ë©”ì‹œì§€ ê¸°ëŠ¥ (4ê°œ):**
8. **ë°œì‹ ì ì •ë³´ ì„¤ì •í•˜ê¸°** - ê³ ê°ìœ¼ë¡œë¶€í„° ë©”ì‹œì§€ë¥¼ ìˆ˜ì‹ í•  í˜¸ìŠ¤íŠ¸ ì—°ë½ì²˜ ë“±ë¡
9. **ë©”ì‹œì§€ ë³´ë‚´ê¸°** - ê°œë³„ ê³ ê°ì—ê²Œ ì§ì ‘ ë©”ì‹œì§€ ë°œì†¡
10. **ìë™ í…œí”Œë¦¿ ë§Œë“¤ê¸°** - ì˜ˆì•½ ì•ˆë‚´ ë©”ì‹œì§€ë¥¼ ìë™í™”. ì˜ˆì•½ì ìƒì„¸ ë‚´ì—­ì€ ìë™ìœ¼ë¡œ ì…ë ¥
11. **ìë™ ë©”ì‹œì§€ë¥¼ ìœ„í•œ ë°œì†¡ ê·œì¹™ ë§Œë“¤ê¸°** - ë©”ì‹œì§€ë¥¼ ìë™ìœ¼ë¡œ ë°œì†¡í•  ê·œì¹™ ì„¤ì •

=====================================================
3. ìµœì†Œ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„
=====================================================

ğŸ—„ï¸ **í•µì‹¬ í…Œì´ë¸” 7ê°œ:**

```sql
-- 1. ê³µê°„ í…Œì´ë¸”
CREATE TABLE spaces (
    id INT8 PRIMARY KEY,
    user_id INT8 REFERENCES users(id),
    name VARCHAR NOT NULL,
    icon_text VARCHAR,
    icon_color VARCHAR,
    host_contact_number_id INT8 REFERENCES sender_numbers(id),
    created_at TIMESTAMPTZ,
    updated_at TIMESTAMPTZ
);

-- 2. ì˜ˆì•½ í…Œì´ë¸”
CREATE TABLE reservations (
    id INT8 PRIMARY KEY,
    user_id INT8 REFERENCES users(id),
    space_id INT8 REFERENCES spaces(id),
    customer_name VARCHAR NOT NULL,
    customer_phone VARCHAR NOT NULL,
    customer_email VARCHAR,
    start_datetime TIMESTAMPTZ NOT NULL,
    end_datetime TIMESTAMPTZ NOT NULL,
    guest_count INT4,
    total_amount INT4,
    deposit_amount INT4,
    special_requirements TEXT,
    booking_type VARCHAR,
    status VARCHAR,
    payment_status VARCHAR,
    booking_channel VARCHAR,
    created_at TIMESTAMPTZ,
    updated_at TIMESTAMPTZ
);

-- 3. ì˜ˆì•½ ë©”ì‹œì§€ í…œí”Œë¦¿
CREATE TABLE reservation_message_templates (
    id INT8 PRIMARY KEY,
    user_id INT8 REFERENCES users(id),
    name VARCHAR NOT NULL,
    content TEXT NOT NULL,
    category VARCHAR,
    is_active BOOL,
    created_at TIMESTAMPTZ,
    updated_at TIMESTAMPTZ
);

-- 4. ë³´ë‚¸ ë©”ì‹œì§€ ê¸°ë¡
CREATE TABLE reservation_message_logs (
    id BIGSERIAL PRIMARY KEY,
    user_id INT8 REFERENCES users(id),
    reservation_id INT8 REFERENCES reservations(id),
    template_id INT8 REFERENCES reservation_message_templates(id),
    to_number VARCHAR NOT NULL,
    to_name VARCHAR,
    message_content TEXT NOT NULL,
    message_type VARCHAR NOT NULL,
    sent_at TIMESTAMPTZ,
    status VARCHAR NOT NULL,
    error_message TEXT,
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- 5. ì˜ˆì•½ ë°œì†¡ ë©”ì‹œì§€
CREATE TABLE reservation_scheduled_messages (
    id BIGSERIAL PRIMARY KEY,
    user_id INT8 REFERENCES users(id),
    reservation_id INT8 REFERENCES reservations(id),
    template_id INT8 REFERENCES reservation_message_templates(id),
    to_number VARCHAR NOT NULL,
    to_name VARCHAR,
    message_content TEXT NOT NULL,
    message_type VARCHAR NOT NULL,
    scheduled_at TIMESTAMPTZ NOT NULL,
    status VARCHAR NOT NULL DEFAULT 'pending',
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- 6. ìë™ ë°œì†¡ ê·œì¹™ (Phase 2.3) âœ… DB ì´ë¯¸ ì¡´ì¬
CREATE TABLE reservation_auto_message_rules (
    id INT8 PRIMARY KEY,
    user_id INT8 REFERENCES users(id),
    space_id INT8 REFERENCES spaces(id),
    template_id INT8 REFERENCES reservation_message_templates(id),
    rule_name VARCHAR NOT NULL,              -- ì‹¤ì œ DB: rule_name (ê³„íšì„œ: name)
    is_active BOOL DEFAULT true,
    trigger_type VARCHAR NOT NULL,           -- ì‹¤ì œ DB: trigger_type (ê³„íšì„œ: trigger_event)
    time_type VARCHAR NOT NULL,              -- ì‹¤ì œ DB: time_type (ê³„íšì„œ: timing_type)
    time_value INT4,                         -- ì‹¤ì œ DB: time_value (ê³„íšì„œ: relative_value)
    time_direction VARCHAR,                  -- ì‹¤ì œ DB: time_direction (ê³„íšì„œ: relative_direction)
    absolute_time TIME,
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);
```

**ğŸ”§ ê¸°ë³¸ ì¸ë±ìŠ¤:**
```sql
-- Phase 1
CREATE INDEX idx_spaces_user ON spaces(user_id);
CREATE INDEX idx_reservations_user_date ON reservations(user_id, start_datetime);
CREATE INDEX idx_reservations_space ON reservations(space_id);

-- Phase 2
CREATE INDEX idx_message_templates_user ON reservation_message_templates(user_id);
CREATE INDEX idx_message_logs_user ON reservation_message_logs(user_id);
CREATE INDEX idx_message_logs_reservation ON reservation_message_logs(reservation_id);
CREATE INDEX idx_message_logs_sent_at ON reservation_message_logs(sent_at);
CREATE INDEX idx_scheduled_messages_user ON reservation_scheduled_messages(user_id);
CREATE INDEX idx_scheduled_messages_status ON reservation_scheduled_messages(status);
CREATE INDEX idx_scheduled_messages_scheduled_at ON reservation_scheduled_messages(scheduled_at);
CREATE INDEX idx_auto_rules_user ON reservation_auto_message_rules(user_id);
CREATE INDEX idx_auto_rules_active ON reservation_auto_message_rules(is_active);
```

=====================================================
4. API ì„¤ê³„
=====================================================

ğŸŒ **í•µì‹¬ API ì—”ë“œí¬ì¸íŠ¸:**

**ğŸ“¦ ê³µê°„ ê´€ë¦¬ (Phase 1):**
```
GET    /api/reservations/spaces              # ê³µê°„ ëª©ë¡ âœ…
POST   /api/reservations/spaces              # ê³µê°„ ì¶”ê°€ âœ…
PUT    /api/reservations/spaces/[id]         # ê³µê°„ ìˆ˜ì • âœ…
DELETE /api/reservations/spaces/[id]         # ê³µê°„ ì‚­ì œ âœ…
```

**ğŸ“… ì˜ˆì•½ ê´€ë¦¬ (Phase 1):**
```
GET    /api/reservations/bookings            # ì˜ˆì•½ ëª©ë¡ âœ…
POST   /api/reservations/bookings            # ì˜ˆì•½ ì¶”ê°€ âœ…
PUT    /api/reservations/bookings/[id]       # ì˜ˆì•½ ìˆ˜ì • âœ…
DELETE /api/reservations/bookings/[id]       # ì˜ˆì•½ ì‚­ì œ âœ…
GET    /api/reservations/statistics          # í†µê³„ ë°ì´í„° âœ…
GET    /api/reservations/export/csv          # CSV ë‹¤ìš´ë¡œë“œ âœ…
```

**ğŸ“± ë©”ì‹œì§€ í…œí”Œë¦¿ (Phase 2.1):**
```
GET    /api/reservations/message-templates       # í…œí”Œë¦¿ ëª©ë¡ âœ…
POST   /api/reservations/message-templates       # í…œí”Œë¦¿ ìƒì„± âœ…
PUT    /api/reservations/message-templates/[id]  # í…œí”Œë¦¿ ìˆ˜ì • âœ…
DELETE /api/reservations/message-templates/[id]  # í…œí”Œë¦¿ ì‚­ì œ âœ…
```

**ğŸ“± ë©”ì‹œì§€ ë°œì†¡ (Phase 2.1):**
```
POST   /api/reservations/send-message            # ë©”ì‹œì§€ ë°œì†¡ (ì¦‰ì‹œ/ì˜ˆì•½) âœ…
```

**ğŸ“± ë³´ë‚¸ ë©”ì‹œì§€ (Phase 2.2):**
```
GET    /api/reservations/message-logs            # ë³´ë‚¸ ë©”ì‹œì§€ ëª©ë¡ âœ…
GET    /api/reservations/message-logs/[id]       # ë©”ì‹œì§€ ìƒì„¸ âœ…
```

**ğŸ“± ì˜ˆì•½ ë°œì†¡ ë©”ì‹œì§€ (Phase 2.2):**
```
GET    /api/reservations/scheduled-messages      # ì˜ˆì•½ ë©”ì‹œì§€ ëª©ë¡ âœ…
DELETE /api/reservations/scheduled-messages      # ì˜ˆì•½ ë©”ì‹œì§€ ì·¨ì†Œ âœ…
```

**ğŸ“± Cron Job (Phase 2.1.5):**
```
GET    /api/cron/send-scheduled-messages         # ì˜ˆì•½ ë©”ì‹œì§€ ìë™ ë°œì†¡ âœ…
```

**ğŸ“± ìë™ ë°œì†¡ ê·œì¹™ (Phase 2.3 - ë¯¸ì°©ìˆ˜):**
```
GET    /api/reservations/auto-rules              # ìë™ ê·œì¹™ ëª©ë¡
POST   /api/reservations/auto-rules              # ìë™ ê·œì¹™ ìƒì„±
PUT    /api/reservations/auto-rules/[id]         # ìë™ ê·œì¹™ ìˆ˜ì •
DELETE /api/reservations/auto-rules/[id]         # ìë™ ê·œì¹™ ì‚­ì œ
GET    /api/reservations/auto-send-check         # ìë™ ë°œì†¡ ì²´í¬ (Cron)
```

=====================================================
5. ê°œë°œ ì¼ì • ë° ì§„í–‰ ìƒí™©
=====================================================

ğŸ“… **Phase 1: ìŠ¤ë§ˆíŠ¸ ìº˜ë¦°ë” (2ì£¼)** âœ… 100% ì™„ë£Œ
-------------------
```
âœ… ê³µê°„ ê´€ë¦¬ CRUD
âœ… ì˜ˆì•½ ê´€ë¦¬ CRUD
âœ… ìº˜ë¦°ë” ë·°
âœ… í†µê³„ í˜ì´ì§€
âœ… CSV Export
âœ… ì˜ˆì•½ ë³µì‚¬ ê¸°ëŠ¥
âœ… ì˜ˆì•½ ìƒì„¸ í˜ì´ì§€
```

ğŸ“… **Phase 2: ë©”ì‹œì§€ ì‹œìŠ¤í…œ (2ì£¼)** âœ… 90% ì™„ë£Œ
-------------------

**Phase 2.1: ë©”ì‹œì§€ í…œí”Œë¦¿ & ë°œì†¡ (1ì£¼)** âœ… 100% ì™„ë£Œ
```
âœ… ë°œì‹ ì ì •ë³´ ì„¤ì •í•˜ê¸°
âœ… ë©”ì‹œì§€ í…œí”Œë¦¿ CRUD
âœ… ë³€ìˆ˜ ì¹˜í™˜ ìœ í‹¸ë¦¬í‹° (11ê°€ì§€ ë³€ìˆ˜)
âœ… ë©”ì‹œì§€ ë°œì†¡ API (ì¦‰ì‹œ ë°œì†¡)
âœ… ë©”ì‹œì§€ ë³´ë‚´ê¸° UI
âœ… ì˜ˆì•½ ìƒì„¸ í˜ì´ì§€ ì—°ë™
âœ… ê´‘ê³ ë¨¸ë‹ˆ ì°¨ê° ì—°ë™
```

**Phase 2.1.5: ì˜ˆì•½ ë°œì†¡ ì‹œìŠ¤í…œ** âœ… 100% ì™„ë£Œ
```
âœ… ì˜ˆì•½ ë°œì†¡ UI (ìº˜ë¦°ë” ë‚ ì§œ ì„ íƒ)
âœ… ì˜ˆì•½ ë°œì†¡ API (scheduled)
âœ… Vercel Cron Job ì„¤ì •
âœ… ìë™ ë°œì†¡ ì—”ë“œí¬ì¸íŠ¸
âœ… CRON_SECRET ë³´ì•ˆ
```

**Phase 2.2: ë³´ë‚¸ ë©”ì‹œì§€ & ë°œì†¡ ì˜ˆì • ë©”ì‹œì§€** âœ… 100% ì™„ë£Œ
```
âœ… ë³´ë‚¸ ë©”ì‹œì§€ ëª©ë¡ API
âœ… ë³´ë‚¸ ë©”ì‹œì§€ ìƒì„¸ API
âœ… ë³´ë‚¸ ë©”ì‹œì§€ í˜ì´ì§€ UI
  - í†µê³„ ëŒ€ì‹œë³´ë“œ
  - ê²€ìƒ‰/í•„í„°ë§
  - í˜ì´ì§€ë„¤ì´ì…˜
  - ìƒì„¸ ëª¨ë‹¬
âœ… ì˜ˆì•½ ë°œì†¡ ë©”ì‹œì§€ ëª©ë¡ API
âœ… ì˜ˆì•½ ë°œì†¡ ë©”ì‹œì§€ ì·¨ì†Œ API
âœ… ì˜ˆì•½ ë°œì†¡ ë©”ì‹œì§€ í˜ì´ì§€ UI
  - íƒ­ ì •ë ¬
  - ë‚¨ì€ ì‹œê°„ í‘œì‹œ
  - ì·¨ì†Œ ê¸°ëŠ¥
```

**Phase 2.3: ìë™ ë©”ì‹œì§€ ê·œì¹™ (1ì£¼)** â­• ë¯¸ì°©ìˆ˜ (ì˜ˆìƒ 8-12ì‹œê°„)
```
âœ… reservation_auto_message_rules í…Œì´ë¸” ìƒì„± (ì´ë¯¸ ì¡´ì¬)
â­• ìë™ ë°œì†¡ ê·œì¹™ CRUD API (3-4ì‹œê°„)
â­• ìë™ ë©”ì‹œì§€ ì„¤ì • í˜ì´ì§€ ì—°ë™ (/message/auto) (2-3ì‹œê°„)
â­• ë°œì†¡ ê·œì¹™ ë§Œë“¤ê¸° í˜ì´ì§€ ì—°ë™ (/message/auto/create) (2-3ì‹œê°„)
â­• ìë™ ë°œì†¡ Cron Job êµ¬í˜„ (4-5ì‹œê°„)
```

ğŸ“… **Phase 3: ê³µìœ  ìº˜ë¦°ë” (1ì£¼)** â­• ë¯¸ì°©ìˆ˜ - **í•„ìˆ˜ êµ¬í˜„**
-------------------
```
â­• ê³µìœ  ë§í¬ ìƒì„± API (2-3ì‹œê°„)
â­• ì½ê¸° ì „ìš© ìº˜ë¦°ë” ë·° (3-4ì‹œê°„)
â­• ê³µìœ  ìº˜ë¦°ë” ì„¤ì • í˜ì´ì§€ (2-3ì‹œê°„)
â­• ê³µìœ  ë§í¬ ê´€ë¦¬ (ë³µì‚¬/ì‚­ì œ) (1-2ì‹œê°„)
```

ğŸ¯ **ì´ ê°œë°œ ê¸°ê°„: 5ì£¼**
- âœ… Phase 1 ì™„ë£Œ: 2ì£¼ ì†Œìš” (2025-09-30 ~ 2025-10-01)
- âœ… Phase 2.1 ì™„ë£Œ: 1ì£¼ ì†Œìš” (2025-10-01 ~ 2025-10-02)
- âœ… Phase 2.1.5 ì™„ë£Œ: 1ì¼ ì†Œìš” (2025-10-02)
- âœ… Phase 2.2 ì™„ë£Œ: 1ì¼ ì†Œìš” (2025-10-02)
- â³ Phase 2.3 ì§„í–‰ ì¤‘: 1ì£¼ ì˜ˆì • (ìë™ ë°œì†¡ ê·œì¹™)
- â³ Phase 3 ëŒ€ê¸° ì¤‘: 1ì£¼ ì˜ˆì • (ê³µìœ  ìº˜ë¦°ë”) - **í•„ìˆ˜**

=====================================================
6. Phase 2 ìƒì„¸ êµ¬í˜„ ê°€ì´ë“œ
=====================================================

## Phase 2.1: í…œí”Œë¦¿ ê´€ë¦¬ & ë©”ì‹œì§€ ë°œì†¡ âœ… 100% ì™„ë£Œ

### ë³€ìˆ˜ ì¹˜í™˜ ì—”ì§„ (ì™„ë£Œ)
**íŒŒì¼:** `src/utils/messageTemplateParser.ts`

**ì§€ì› ë³€ìˆ˜ (11ê°œ):**
```
{{ê³ ê°ëª…}} â†’ customer_name
{{ê³µê°„ëª…}} â†’ space.name
{{ì˜ˆì•½ë‚ ì§œ}} â†’ start_datetime (YYYY-MM-DD)
{{ì²´í¬ì¸ì‹œê°„}} â†’ start_datetime (HH:mm)
{{ì²´í¬ì•„ì›ƒì‹œê°„}} â†’ end_datetime (HH:mm)
{{ì¸ì›ìˆ˜}} â†’ guest_count
{{ì´ê¸ˆì•¡}} â†’ total_amount (ì› ë‹¨ìœ„, ì½¤ë§ˆ)
{{ì…ê¸ˆì•¡}} â†’ deposit_amount (ì› ë‹¨ìœ„, ì½¤ë§ˆ)
{{ì”ê¸ˆ}} â†’ (total_amount - deposit_amount)
{{ì „í™”ë²ˆí˜¸}} â†’ host_contact_number.phone_number (í˜¸ìŠ¤íŠ¸ íšŒì‹  ë²ˆí˜¸)
{{íŠ¹ì´ì‚¬í•­}} â†’ special_requirements
```

**ì£¼ìš” í•¨ìˆ˜:**
```typescript
replaceTemplateVariables(template, reservation) // ë³€ìˆ˜ ì¹˜í™˜
previewTemplate(template) // ìƒ˜í”Œ ë°ì´í„°ë¡œ ë¯¸ë¦¬ë³´ê¸°
calculateMessageBytes(content) // ë°”ì´íŠ¸ ê³„ì‚°
determineMessageType(bytes) // SMS/LMS ìë™ íŒë‹¨
```

### í…œí”Œë¦¿ CRUD API (ì™„ë£Œ)
```
GET    /api/reservations/message-templates       âœ…
POST   /api/reservations/message-templates       âœ…
PUT    /api/reservations/message-templates/[id]  âœ…
DELETE /api/reservations/message-templates/[id]  âœ…
```

### ë©”ì‹œì§€ ë°œì†¡ API (ì™„ë£Œ)
**ì—”ë“œí¬ì¸íŠ¸:** POST /api/reservations/send-message

**Request Body:**
```typescript
{
  reservationId: number,
  templateId?: number,
  message: string,
  sendType?: 'immediate' | 'scheduled',
  scheduledAt?: string // ISO 8601
}
```

**Response:**
```typescript
{
  success: boolean,
  messageId?: string,
  logId?: number,
  scheduledId?: number,
  messageType?: 'SMS' | 'LMS',
  creditUsed?: number,
  error?: string
}
```

**ì£¼ìš” ë¡œì§:**
1. ì˜ˆì•½ ë°ì´í„° ì¡°íšŒ (JOIN spaces, sender_numbers)
2. í…œí”Œë¦¿ ë³€ìˆ˜ ì¹˜í™˜
3. ë°”ì´íŠ¸ ê³„ì‚° ë° SMS/LMS íŒë‹¨
4. ì¦‰ì‹œ ë°œì†¡ vs ì˜ˆì•½ ë°œì†¡ ë¶„ê¸°
   - immediate: Naver SENS API â†’ reservation_message_logs
   - scheduled: reservation_scheduled_messages INSERT
5. ê´‘ê³ ë¨¸ë‹ˆ ì°¨ê° (transactions ê¸°ë°˜)
6. ì—ëŸ¬ í•¸ë“¤ë§ ë° ë¡¤ë°±

---

## Phase 2.1.5: ì˜ˆì•½ ë°œì†¡ ì‹œìŠ¤í…œ âœ… 100% ì™„ë£Œ

### ì˜ˆì•½ ë°œì†¡ UI (ì™„ë£Œ)
- ìº˜ë¦°ë” ë°©ì‹ ë‚ ì§œ ì„ íƒ
- ì‹œê°„ ë“œë¡­ë‹¤ìš´ (ì‹œ/ë¶„)
- ì¦‰ì‹œ ë°œì†¡ / ì˜ˆì•½ ë°œì†¡ ë¼ë””ì˜¤ ë²„íŠ¼

### Vercel Cron Job ì„¤ì • (ì™„ë£Œ)
**íŒŒì¼:** `vercel.json`
```json
{
  "crons": [
    {
      "path": "/api/cron/send-scheduled-messages",
      "schedule": "* * * * *"
    }
  ]
}
```

**Cron ì—”ë“œí¬ì¸íŠ¸:** GET /api/cron/send-scheduled-messages

**ì‹¤í–‰ ë¡œì§:**
1. CRON_SECRET ê²€ì¦
2. status='pending', scheduled_at <= NOW() ì¡°íšŒ
3. ê° ë©”ì‹œì§€ì— ëŒ€í•´:
   - Naver SENS API í˜¸ì¶œ
   - ê´‘ê³ ë¨¸ë‹ˆ ì°¨ê° (transactions)
   - reservation_message_logs INSERT
   - status='sent' ì—…ë°ì´íŠ¸
4. ì‹¤íŒ¨ ì‹œ status='failed', error_message ê¸°ë¡

**í™˜ê²½ë³€ìˆ˜:**
- CRON_SECRET: Cron Job ë³´ì•ˆ í† í°

---

## Phase 2.2: ë³´ë‚¸ ë©”ì‹œì§€ & ë°œì†¡ ì˜ˆì • ë©”ì‹œì§€ âœ… 100% ì™„ë£Œ

### ë³´ë‚¸ ë©”ì‹œì§€ ëª©ë¡ API (ì™„ë£Œ)
**ì—”ë“œí¬ì¸íŠ¸:** GET /api/reservations/message-logs

**Query Parameters:**
- page: í˜ì´ì§€ ë²ˆí˜¸
- limit: í˜ì´ì§€ë‹¹ ê°œìˆ˜
- search: ìˆ˜ì‹ ì ì´ë¦„/ì „í™”ë²ˆí˜¸ ê²€ìƒ‰
- status: 'sent' | 'failed'
- messageType: 'SMS' | 'LMS'

**Response:**
```typescript
{
  logs: MessageLog[],
  stats: {
    total: number,
    sent: number,
    failed: number,
    sms: number,
    lms: number
  },
  pagination: { ... }
}
```

### ë³´ë‚¸ ë©”ì‹œì§€ í˜ì´ì§€ UI (ì™„ë£Œ)
**ê²½ë¡œ:** /reservations/message/list

**ì£¼ìš” ê¸°ëŠ¥:**
- í†µê³„ ëŒ€ì‹œë³´ë“œ (5ê°œ ë©”íŠ¸ë¦­ ì¹´ë“œ)
- ê²€ìƒ‰ ê¸°ëŠ¥ (Enter í‚¤ ì§€ì›)
- ì´ì¤‘ í•„í„°ë§ (ìƒíƒœ + ë©”ì‹œì§€ íƒ€ì…)
- ìŠ¤ë§ˆíŠ¸ í˜ì´ì§€ë„¤ì´ì…˜ (ìµœëŒ€ 5ê°œ ë²„íŠ¼)
- ìƒì„¸ ëª¨ë‹¬
- ë‚ ì§œ/ì‹œê°„ í¬ë§·íŒ…

### ì˜ˆì•½ ë°œì†¡ ë©”ì‹œì§€ ëª©ë¡ API (ì™„ë£Œ)
**ì—”ë“œí¬ì¸íŠ¸:** GET /api/reservations/scheduled-messages

**Query Parameters:**
- page, limit
- sortBy: 'scheduled_at' | 'created_at'

### ì˜ˆì•½ ë°œì†¡ ë©”ì‹œì§€ í˜ì´ì§€ UI (ì™„ë£Œ)
**ê²½ë¡œ:** /reservations/message/list/reserved

**ì£¼ìš” ê¸°ëŠ¥:**
- íƒ­ ì •ë ¬ (ë°œì†¡ ì¼ì •ìˆœ/ë“±ë¡ìˆœ)
- ë‚¨ì€ ì‹œê°„ ì‹¤ì‹œê°„ í‘œì‹œ
- ì˜ˆì•½ ì·¨ì†Œ ê¸°ëŠ¥
- ì¹´ë“œ ê¸°ë°˜ ë°˜ì‘í˜• UI

---

## Phase 2.3: ìë™ ë©”ì‹œì§€ ê·œì¹™ â­• ë¯¸ì°©ìˆ˜

### ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” âœ… ì´ë¯¸ ì¡´ì¬
**í…Œì´ë¸”:** reservation_auto_message_rules

**ì‹¤ì œ DB í•„ë“œ:**
- `id` INT8 - Primary Key
- `user_id` INT8 - ì‚¬ìš©ì ID
- `space_id` INT8 - ê³µê°„ ID
- `template_id` INT8 - í…œí”Œë¦¿ ID
- `rule_name` VARCHAR - ê·œì¹™ ì œëª©
- `is_active` BOOL - í™œì„±í™” ì—¬ë¶€ (ê¸°ë³¸ê°’: true)
- `trigger_type` VARCHAR - íŠ¸ë¦¬ê±° ìœ í˜• ('checkin' | 'checkout')
- `time_type` VARCHAR - ì‹œê°„ ìœ í˜• ('relative' | 'absolute')
- `time_value` INT4 - ì‹œê°„ ê°’ (ì˜ˆ: 2ì‹œê°„ ì „ â†’ 2)
- `time_direction` VARCHAR - ì‹œê°„ ë°©í–¥ ('before' | 'after')
- `absolute_time` TIME - ì ˆëŒ€ ì‹œê°„ (ì˜ˆ: 09:00)
- `created_at` TIMESTAMPTZ
- `updated_at` TIMESTAMPTZ

**ì‹œê°„ ì„¤ì • ë°©ì‹:**

1. **ìƒëŒ€ì  ì‹œì ** (ì˜ˆ: ì…ì‹¤ 2ì‹œê°„ ì „)
   - `time_type` = 'relative'
   - `time_value` = 2
   - `time_direction` = 'before'
   - ì‹œê°„ ë‹¨ìœ„ëŠ” UIì—ì„œ ì‹œ/ë¶„/ì¼ ì„ íƒ í›„ ë¶„ ë‹¨ìœ„ë¡œ ë³€í™˜í•˜ì—¬ ì €ì¥

2. **ì ˆëŒ€ì  ì‹œì ** (ì˜ˆ: ì…ì‹¤ì¼ 09:00)
   - `time_type` = 'absolute'
   - `absolute_time` = '09:00:00'
   - `time_value`ëŠ” ë©°ì¹  ì „ì¸ì§€ (0=ë‹¹ì¼, 1=1ì¼ì „)

### API ì—”ë“œí¬ì¸íŠ¸ (ë¯¸ì°©ìˆ˜)
```
GET    /api/reservations/auto-rules              # ìë™ ê·œì¹™ ëª©ë¡
POST   /api/reservations/auto-rules              # ìë™ ê·œì¹™ ìƒì„±
PUT    /api/reservations/auto-rules/[id]         # ìë™ ê·œì¹™ ìˆ˜ì •
DELETE /api/reservations/auto-rules/[id]         # ìë™ ê·œì¹™ ì‚­ì œ
GET    /api/reservations/auto-send-check         # ìë™ ë°œì†¡ ì²´í¬ (Cron)
```

### ìë™ ë°œì†¡ ë¡œì§ (ì˜ˆì •)
**Cron ì£¼ê¸°:** 1ë¶„ë§ˆë‹¤ ì‹¤í–‰

**ì‹¤í–‰ ë¡œì§:**
1. í™œì„±í™”ëœ ëª¨ë“  ìë™ ë°œì†¡ ê·œì¹™ ì¡°íšŒ
2. ê° ê·œì¹™ì— ëŒ€í•´:
   - ë°œì†¡ ëŒ€ìƒ ì˜ˆì•½ ì°¾ê¸°
   - ë°œì†¡ ì‹œê°„ ê³„ì‚°
   - ì´ë¯¸ ë°œì†¡ëœ ê¸°ë¡ í™•ì¸ (ì¤‘ë³µ ë°©ì§€)
   - ë°œì†¡ ì‹œê°„ ë„ë˜ í™•ì¸ (15ë¶„ ì´ë‚´)
   - ë©”ì‹œì§€ ë°œì†¡
   - reservation_message_logs ê¸°ë¡

**ë°œì†¡ ì‹œê°„ ê³„ì‚° (ì‹¤ì œ DB í•„ë“œ ê¸°ì¤€):**
```typescript
function calculateSendTime(reservation, rule) {
  const baseTime = rule.trigger_type === 'checkin'
    ? reservation.start_datetime
    : reservation.end_datetime;

  if (rule.time_type === 'relative') {
    // ìƒëŒ€ì : "ì…ì‹¤ 2ì‹œê°„ ì „"
    // time_valueëŠ” ë¶„ ë‹¨ìœ„ë¡œ ì €ì¥ë¨ (2ì‹œê°„ = 120ë¶„)
    const multiplier = rule.time_direction === 'before' ? -1 : 1;
    const offsetMs = rule.time_value * 60 * 1000; // ë¶„ì„ ë°€ë¦¬ì´ˆë¡œ ë³€í™˜
    return new Date(baseTime.getTime() + multiplier * offsetMs);
  } else {
    // ì ˆëŒ€ì : "ì…ì‹¤ì¼ 09:00" ë˜ëŠ” "ì…ì‹¤ 1ì¼ ì „ 09:00"
    const [hours, minutes] = rule.absolute_time.split(':');
    const targetDate = new Date(baseTime);

    // time_valueê°€ ë©°ì¹  ì „ì¸ì§€ (0=ë‹¹ì¼, 1=1ì¼ì „)
    if (rule.time_value > 0) {
      targetDate.setDate(targetDate.getDate() - rule.time_value);
    }

    targetDate.setHours(parseInt(hours), parseInt(minutes), 0, 0);
    return targetDate;
  }
}
```

### UI í˜ì´ì§€ (ë¯¸ì°©ìˆ˜)
**í˜ì´ì§€ 1:** /reservations/message/auto
- ìë™ ê·œì¹™ ëª©ë¡
- ê·œì¹™ ë§Œë“¤ê¸° ë²„íŠ¼
- í™œì„±í™”/ë¹„í™œì„±í™” í† ê¸€

**í˜ì´ì§€ 2:** /reservations/message/auto/create
- ê·œì¹™ ì œëª© ì…ë ¥
- ëŒ€ìƒ ê³µê°„ ì„ íƒ
- ë°œì†¡ ì‹œì  ì„ íƒ (ìƒëŒ€ì /ì ˆëŒ€ì )
- í…œí”Œë¦¿ ì„ íƒ
- ë°œì‹ ì ì •ë³´ í‘œì‹œ

=====================================================
7. í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤
=====================================================

### Phase 1 í…ŒìŠ¤íŠ¸ (ì™„ë£Œ)
âœ… ê³µê°„ ìƒì„±/ìˆ˜ì •/ì‚­ì œ
âœ… ì˜ˆì•½ ìƒì„±/ìˆ˜ì •/ì‚­ì œ
âœ… ìº˜ë¦°ë” ë·° í‘œì‹œ
âœ… í†µê³„ ì°¨íŠ¸ í‘œì‹œ
âœ… CSV ë‹¤ìš´ë¡œë“œ

### Phase 2.1 í…ŒìŠ¤íŠ¸ (ì™„ë£Œ)
âœ… í…œí”Œë¦¿ ìƒì„± (ëª¨ë“  ë³€ìˆ˜ í¬í•¨)
âœ… í…œí”Œë¦¿ ìˆ˜ì •
âœ… ë³€ìˆ˜ ì¹˜í™˜ ì •í™•ë„ í™•ì¸
âœ… ë©”ì‹œì§€ ë°œì†¡ (ì¦‰ì‹œ)
âœ… ì‹¤ì œ íœ´ëŒ€í° ìˆ˜ì‹  í™•ì¸

### Phase 2.1.5 í…ŒìŠ¤íŠ¸ (ì™„ë£Œ)
âœ… ì˜ˆì•½ ë°œì†¡ UI í…ŒìŠ¤íŠ¸
âœ… ì˜ˆì•½ ë°œì†¡ API í…ŒìŠ¤íŠ¸
âœ… Cron Job ìˆ˜ë™ ì‹¤í–‰ í…ŒìŠ¤íŠ¸
âœ… ì˜ˆì•½ ì‹œê°„ ë„ë˜ ì‹œ ìë™ ë°œì†¡ í™•ì¸

### Phase 2.2 í…ŒìŠ¤íŠ¸ (ì™„ë£Œ)
âœ… ë³´ë‚¸ ë©”ì‹œì§€ ëª©ë¡ ì¡°íšŒ
âœ… ê²€ìƒ‰/í•„í„°ë§ ë™ì‘ í™•ì¸
âœ… ìƒì„¸ ëª¨ë‹¬ í‘œì‹œ
âœ… ì˜ˆì•½ ë©”ì‹œì§€ ëª©ë¡ ì¡°íšŒ
âœ… ì˜ˆì•½ ì·¨ì†Œ ê¸°ëŠ¥
âœ… ë‚¨ì€ ì‹œê°„ í‘œì‹œ

### Phase 2.3 í…ŒìŠ¤íŠ¸ (ì˜ˆì •)
- ìë™ ê·œì¹™ ìƒì„± (ìƒëŒ€ì  ì‹œì )
- ìë™ ê·œì¹™ ìƒì„± (ì ˆëŒ€ì  ì‹œì )
- ê·œì¹™ í™œì„±í™”/ë¹„í™œì„±í™”
- ê·œì¹™ ìˆ˜ì •/ì‚­ì œ
- Cron Job ìˆ˜ë™ ì‹¤í–‰
- ì‹¤ì œ ì˜ˆì•½ ìë™ ë°œì†¡ í™•ì¸
- ì¤‘ë³µ ë°œì†¡ ë°©ì§€ í™•ì¸
- ë°œì†¡ ì‹œê°„ ê³„ì‚° ì •í™•ë„ í™•ì¸

=====================================================
8. ë‹¤ìŒ ë‹¨ê³„ (Phase 2.3)
=====================================================

ğŸ¯ **í˜„ì¬ ìƒíƒœ (2025-10-02 ê¸°ì¤€):**
âœ… Phase 1 ì™„ë£Œ (100%)
âœ… Phase 2.1 ì™„ë£Œ (100%)
âœ… Phase 2.1.5 ì™„ë£Œ (100%)
âœ… Phase 2.2 ì™„ë£Œ (100%)
â³ Phase 2.3 ì§„í–‰ ì˜ˆì • (0%)

ğŸš€ **Phase 2.3 êµ¬í˜„ ìˆœì„œ (ì˜ˆìƒ 8-12ì‹œê°„):**

1. **DB í™•ì¸ âœ… ì™„ë£Œ**
   - reservation_auto_message_rules í…Œì´ë¸” ì´ë¯¸ ì¡´ì¬
   - í•„ë“œëª… í™•ì¸: rule_name, trigger_type, time_type, time_value, time_direction

2. **ìë™ ê·œì¹™ CRUD API (3-4ì‹œê°„)**
   - GET /api/reservations/auto-rules
   - POST /api/reservations/auto-rules
   - PUT /api/reservations/auto-rules/[id]
   - DELETE /api/reservations/auto-rules/[id]

3. **ìë™ ë©”ì‹œì§€ ì„¤ì • í˜ì´ì§€ ì—°ë™ (2-3ì‹œê°„)**
   - /message/auto í˜ì´ì§€ ì—°ë™
   - ê·œì¹™ ëª©ë¡ í‘œì‹œ
   - í™œì„±í™”/ë¹„í™œì„±í™” í† ê¸€

4. **ë°œì†¡ ê·œì¹™ ë§Œë“¤ê¸° í˜ì´ì§€ ì—°ë™ (2-3ì‹œê°„)**
   - /message/auto/create í˜ì´ì§€ ì—°ë™
   - í¼ ì…ë ¥ ë° ê²€ì¦
   - API ì—°ê²°

5. **ìë™ ë°œì†¡ Cron Job êµ¬í˜„ (4-5ì‹œê°„)**
   - GET /api/reservations/auto-send-check
   - ë°œì†¡ ì‹œê°„ ê³„ì‚° ë¡œì§
   - ì¤‘ë³µ ë°œì†¡ ë°©ì§€ ë¡œì§
   - Vercel Cron ì„¤ì •

=====================================================
ğŸ“ ì£¼ìš” ê³ ë ¤ì‚¬í•­
=====================================================

ğŸ”’ **ë³´ì•ˆ:**
- PCI DSS ì¤€ìˆ˜
- ê°œì¸ì •ë³´ë³´í˜¸ë²• ì¤€ìˆ˜
- JWT í† í° ë³´ì•ˆ ê°•í™”
- API Rate Limiting
- CRON_SECRET í™˜ê²½ë³€ìˆ˜ ë³´ì•ˆ

ğŸš€ **í™•ì¥ì„±:**
- ë©€í‹° í…Œë„ŒíŠ¸ ì•„í‚¤í…ì²˜
- ìºì‹± ì „ëµ
- ë°ì´í„°ë² ì´ìŠ¤ íŒŒí‹°ì…”ë‹
- CDN í™œìš©

ğŸ“Š **ëª¨ë‹ˆí„°ë§:**
- ì—ëŸ¬ ì¶”ì  ì‹œìŠ¤í…œ (Sentry)
- ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ (Vercel Analytics)
- ì‚¬ìš©ì í–‰ë™ ë¶„ì„
- ì‹¤ì‹œê°„ ì•Œë¦¼ ì‹œìŠ¤í…œ

âš ï¸ **Cron Job ì œì•½:**
- Vercel Pro í”Œëœ ì´ìƒ í•„ìš”
- ë§¤ ë¶„ë§ˆë‹¤ ì‹¤í–‰ (ìµœëŒ€ 1ë¶„ ì˜¤ì°¨)
- íƒ€ì„ì¡´ ì²˜ë¦¬ (UTC â†” KST)
- ì¤‘ë³µ ë°œì†¡ ë°©ì§€ í•„ìˆ˜

=====================================================
ğŸ¯ ì„±ê³µ ì§€í‘œ (KPI)
=====================================================

ğŸ“ˆ **ë¹„ì¦ˆë‹ˆìŠ¤ ì§€í‘œ:**
- ì˜ˆì•½ ìƒì„±ë¥  ì¦ê°€: ì›” 50ê±´ â†’ 200ê±´
- ê³ ê° ì¬ë°©ë¬¸ìœ¨: 40% ì´ìƒ
- ìš´ì˜ ì‹œê°„ ë‹¨ì¶•: ì¼ 2ì‹œê°„ â†’ 30ë¶„

ğŸ”§ **ê¸°ìˆ  ì§€í‘œ:**
- í˜ì´ì§€ ë¡œë”© ì†ë„: 2ì´ˆ ì´í•˜
- API ì‘ë‹µ ì‹œê°„: 500ms ì´í•˜
- ì‹œìŠ¤í…œ ê°€ë™ë¥ : 99.9% ì´ìƒ
- ë©”ì‹œì§€ ë°œì†¡ ì„±ê³µë¥ : 95% ì´ìƒ

=====================================================
ğŸ“Š êµ¬í˜„ ì™„ë£Œ ìƒì„¸ (2025-10-02)
=====================================================

ğŸ—ï¸ **êµ¬í˜„ëœ API ì—”ë“œí¬ì¸íŠ¸ (20ê°œ):**

**Phase 1 (15ê°œ):**
1. GET /api/reservations/spaces
2. POST /api/reservations/spaces
3. PUT /api/reservations/spaces/[id]
4. DELETE /api/reservations/spaces/[id]
5. GET /api/reservations/bookings
6. POST /api/reservations/bookings
7. PUT /api/reservations/bookings/[id]
8. DELETE /api/reservations/bookings/[id]
9. GET /api/reservations/[id]
10. PUT /api/reservations/[id]
11. DELETE /api/reservations/[id]
12. GET /api/reservations/statistics
13. GET /api/reservations/export/csv

**Phase 2 (7ê°œ):**
14. GET /api/reservations/message-templates
15. POST /api/reservations/message-templates
16. PUT /api/reservations/message-templates/[id]
17. DELETE /api/reservations/message-templates/[id]
18. POST /api/reservations/send-message (ì¦‰ì‹œ/ì˜ˆì•½)
19. GET /api/reservations/message-logs
20. GET /api/reservations/message-logs/[id]
21. GET /api/reservations/scheduled-messages
22. DELETE /api/reservations/scheduled-messages
23. GET /api/cron/send-scheduled-messages (Cron)

ğŸ¨ **êµ¬í˜„ëœ UI í˜ì´ì§€ (17ê°œ):**
1. /reservations - ë©”ì¸ ëŒ€ì‹œë³´ë“œ
2. /reservations/places - ê³µê°„ ëª©ë¡
3. /reservations/places/add - ê³µê°„ ì¶”ê°€
4. /reservations/places/detail - ê³µê°„ ìƒì„¸
5. /reservations/places/edit - ê³µê°„ ìˆ˜ì •
6. /reservations/create - ì˜ˆì•½ ìƒì„±
7. /reservations/list - ì˜ˆì•½ ë¦¬ìŠ¤íŠ¸
8. /reservations/detail - ì˜ˆì•½ ìƒì„¸
9. /reservations/edit - ì˜ˆì•½ ìˆ˜ì •
10. /reservations/calendar - ìº˜ë¦°ë” ë·°
11. /reservations/statistics - í†µê³„
12. /reservations/message/sender-contact - ë°œì‹ ì ì •ë³´
13. /reservations/message/templates - í…œí”Œë¦¿ ê´€ë¦¬
14. /reservations/message/send - ë©”ì‹œì§€ ë³´ë‚´ê¸°
15. /reservations/message/list - ë³´ë‚¸ ë©”ì‹œì§€ ëª©ë¡
16. /reservations/message/list/reserved - ì˜ˆì•½ ë©”ì‹œì§€ ëª©ë¡
17. /reservations/message/auto - ìë™ ë©”ì‹œì§€ ì„¤ì • (UIë§Œ)
18. /reservations/message/auto/create - ê·œì¹™ ë§Œë“¤ê¸° (UIë§Œ)

ğŸ—„ï¸ **êµ¬í˜„ëœ ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” (6ê°œ):**
1. spaces - ê³µê°„ ì •ë³´
2. reservations - ì˜ˆì•½ ì •ë³´
3. reservation_message_templates - ë©”ì‹œì§€ í…œí”Œë¦¿
4. reservation_message_logs - ë³´ë‚¸ ë©”ì‹œì§€ ê¸°ë¡
5. reservation_scheduled_messages - ì˜ˆì•½ ë°œì†¡ ë©”ì‹œì§€
6. reservation_auto_message_rules - ìë™ ë°œì†¡ ê·œì¹™ (Phase 2.3ìš©, í…Œì´ë¸”ë§Œ ì¡´ì¬)

âœ¨ **ì™„ì„±ëœ í•µì‹¬ ê¸°ëŠ¥:**
1. ê³µê°„ ê´€ë¦¬ (CRUD)
2. ì˜ˆì•½ ê´€ë¦¬ (CRUD, ë³µì‚¬)
3. ìº˜ë¦°ë” ë·°
4. í†µê³„ ëŒ€ì‹œë³´ë“œ
5. CSV Export
6. ë©”ì‹œì§€ í…œí”Œë¦¿ ê´€ë¦¬
7. ë³€ìˆ˜ ì¹˜í™˜ ì—”ì§„ (11ê°€ì§€ ë³€ìˆ˜)
8. ë©”ì‹œì§€ ë°œì†¡ (ì¦‰ì‹œ/ì˜ˆì•½)
9. ê´‘ê³ ë¨¸ë‹ˆ ì—°ë™
10. ë³´ë‚¸ ë©”ì‹œì§€ ëª©ë¡
11. ì˜ˆì•½ ë©”ì‹œì§€ ê´€ë¦¬
12. Vercel Cron Job ìë™ ë°œì†¡

=====================================================
ì‘ì„±ì¼: 2025-09-12
ìµœì¢… ìˆ˜ì •ì¼: 2025-10-02 15:20
ì‘ì„±ì: MTS Message ê°œë°œíŒ€
ë²„ì „: 5.1 (DB í•„ë“œëª… ì‹¤ì œ ìŠ¤í‚¤ë§ˆ ë°˜ì˜)
=====================================================

ğŸ“ **ì°¸ê³ :**
ì´ ë¬¸ì„œëŠ” ì˜ˆì•½ê´€ë¦¬_êµ¬í˜„ê³„íšì„œ.txt, Phase2_2_êµ¬í˜„ê°€ì´ë“œ.md, PHASE2_PROGRESS.mdë¥¼ í†µí•©í•œ ìµœì¢… ë²„ì „ì…ë‹ˆë‹¤.
ê¸°ì¡´ ë¶„ì‚°ëœ 3ê°œ ë¬¸ì„œë¥¼ í•˜ë‚˜ë¡œ í†µí•©í•˜ì—¬ ê´€ë¦¬ í¸ì˜ì„±ì„ ë†’ì˜€ìŠµë‹ˆë‹¤.
