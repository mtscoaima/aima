=====================================================
MTS Message ì˜ˆì•½ ê´€ë¦¬ ì‹œìŠ¤í…œ êµ¬í˜„ ê³„íšì„œ (ê°„ì†Œí™” ë²„ì „)
í˜„ì¬ UI ê¸°ë°˜ í•„ìˆ˜ ê¸°ëŠ¥ë§Œ êµ¬í˜„
=====================================================

ğŸ“‹ ëª©ì°¨
1. í˜„ì¬ UI ë¶„ì„ ë° ì‹¤ì œ í•„ìš” ê¸°ëŠ¥
2. ê°„ì†Œí™”ëœ êµ¬í˜„ ê³„íš
3. ìµœì†Œ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„
4. API ì„¤ê³„
5. ìš°ì„ ìˆœìœ„ ë° ì¼ì •

=====================================================
1. í˜„ì¬ UI ë¶„ì„ ë° ì‹¤ì œ í•„ìš” ê¸°ëŠ¥
=====================================================

ğŸ¯ **ì‹¤ì œ UIì—ì„œ í™•ì¸ëœ í•„ìˆ˜ ê¸°ëŠ¥ë§Œ êµ¬í˜„:**

ğŸ“± **í˜„ì¬ UI êµ¬ì¡° (ê°„ì†Œí™”ë¨):**
/reservations/
â”œâ”€â”€ page.tsx (ë‹¨ìˆœ ë©”ë‰´ ëŒ€ì‹œë³´ë“œ)
â”œâ”€â”€ places/
â”‚   â”œâ”€â”€ page.tsx (ê³µê°„ ëª©ë¡ - ë‹¨ìˆœ UI)
â”‚   â””â”€â”€ add/ (ê³µê°„ ì¶”ê°€ - ë‹¨ìˆœ í¼)
â”œâ”€â”€ create/ (ì˜ˆì•½ ìƒì„± - ë‹¨ìˆœ í¼)
â”œâ”€â”€ list/ (ì˜ˆì•½ ë¦¬ìŠ¤íŠ¸ - ë‹¨ìˆœ ëª©ë¡)
â”œâ”€â”€ calendar/ (ìº˜ë¦°ë” - ë‹¨ìˆœ ë·°)
â”œâ”€â”€ message/ (ë©”ì‹œì§€ - ë‹¨ìˆœ ê¸°ëŠ¥)
â””â”€â”€ statistics/ (í†µê³„ - ë‹¨ìˆœ ëŒ€ì‹œë³´ë“œ)

ğŸ” **UI ë¶„ì„ ê²°ê³¼:**
- í˜„ì¬ UIëŠ” ë§¤ìš° ë‹¨ìˆœí•œ êµ¬ì¡°
- ë³µì¡í•œ ê¸°ëŠ¥ë³´ë‹¤ëŠ” ê¸°ë³¸ì ì¸ CRUD ì¤‘ì‹¬
- ê¸°ì¡´ ê³„íšì´ ê³¼ë„í•˜ê²Œ ë³µì¡í•¨
- HTML êµ¬ì¡°ëŠ” ìœ ì§€í•˜ê³  ê¸°ëŠ¥ë§Œ ì—°ê²°

=====================================================
2. ê°„ì†Œí™”ëœ í•µì‹¬ ê¸°ëŠ¥ (í˜„ì¬ UI ê¸°ì¤€)
=====================================================

ğŸ¯ **ì‹¤ì œ êµ¬í˜„í•  í•µì‹¬ ê¸°ëŠ¥ (11ê°œ):**

ğŸ“¦ **ìŠ¤ë§ˆíŠ¸ ìº˜ë¦°ë” ê¸°ëŠ¥ (7ê°œ):**
1. **ë‚´ ê³µê°„ ìƒì„±í•˜ê¸°** - ì—¬ëŸ¬ í”Œë«í¼ì— í©ì–´ì§„ ë‚´ ê³µê°„ë“¤ì„ í•œë²ˆì— ê´€ë¦¬
2. **ì˜ˆì•½ ì¶”ê°€í•˜ê¸°** - ìŠ¤ë§ˆíŠ¸ ìº˜ë¦°ë”ë¡œ ì˜ˆì•½ ì„¸ë¶€ ì‚¬í•­ë“¤ì„ í¸ë¦¬í•˜ê²Œ ê¸°ë¡
3. **ì˜ˆì•½ ì •ë³´ ì…ë ¥í•˜ê¸°** - ê¸ˆì•¡ ì¶”ê°€, ë¶€ë¶„ í™˜ë¶ˆ ë“±, ì˜ˆì•½ ë³„ íŠ¹ì´ì‚¬í•­ë“¤ì„ ê¼¼ê¼¼í•˜ê²Œ ê¸°ë¡
4. **ì˜ˆì•½ ìº˜ë¦°ë” ë³´ê¸°** - ë“±ë¡ëœ ì˜ˆì•½ë“¤ì„ ìº˜ë¦°ë”ë¡œ ë¹ ë¥´ê²Œ íŒŒì•…í•˜ê³  ê´€ë¦¬. ì—¬ëŸ¬ ê³µê°„ ìš´ì˜ ì‹œ ì›í•˜ëŠ” ê³µê°„ì˜ ìº˜ë¦°ë”ë§Œ í•„í„°í•´ì„œ ì¡°íšŒ ê°€ëŠ¥
5. **ìµœê·¼ ì˜ˆì•½ ë‚´ì—­ ë³´ê¸°** - ìµœê·¼ ì˜ˆì•½ ë¦¬ìŠ¤íŠ¸ë¥¼ í•œëˆˆì— í™•ì¸
6. **ê³µìœ  ìº˜ë¦°ë” ë§Œë“¤ê¸°** - ì‹¤ì‹œê°„ ì˜ˆì•½ í˜„í™©ì„ ì˜ˆì•½ ë¬¸ì˜ì, ì²­ì†Œ ì´ëª¨ë‹˜ ë“± ì™¸ë¶€ì— ë§í¬ í•˜ë‚˜ë¡œ í¸ë¦¬í•˜ê²Œ ê³µìœ 
7. **ì˜ˆì•½ ë°ì´í„° ë‹¤ìš´ë°›ê¸°** - í†µê³„ì— í™œìš©ëœ ì›ë³¸ ì˜ˆì•½ ë°ì´í„°ë¥¼ ë‹¤ìš´ë°›ì•„ ì—‘ì…€ë¡œ í™œìš©

ğŸ’¬ **ë©”ì‹œì§€ ê¸°ëŠ¥ (4ê°œ):**
8. **ë°œì‹ ì ì •ë³´ ì„¤ì •í•˜ê¸°** - ê³ ê°ìœ¼ë¡œë¶€í„° ë©”ì‹œì§€ë¥¼ ìˆ˜ì‹ í•  í˜¸ìŠ¤íŠ¸ë‹˜ì˜ ì—°ë½ì²˜ ë“±ë¡
9. **ë©”ì‹œì§€ ë³´ë‚´ê¸°** - ê°œë³„ ê³ ê°ì—ê²Œ ì§ì ‘ ë©”ì‹œì§€ ë°œì†¡
10. **ìë™ í…œí”Œë¦¿ ë§Œë“¤ê¸°** - ì˜ˆì•½ ì•ˆë‚´ ë©”ì‹œì§€ë¥¼ ìë™í™”. ì˜ˆì•½ì ìƒì„¸ ë‚´ì—­ì€ ìë™ìœ¼ë¡œ ì…ë ¥
11. **ìë™ ë©”ì‹œì§€ë¥¼ ìœ„í•œ ë°œì†¡ ê·œì¹™ ë§Œë“¤ê¸°** - ë©”ì‹œì§€ë¥¼ ìë™ìœ¼ë¡œ ë°œì†¡í•  ê·œì¹™ ì„¤ì •

âŒ **ì œì™¸ëœ ê¸°ëŠ¥:**
- ë³´ë‚¸ ë©”ì‹œì§€ í™•ì¸í•˜ê¸° (ë³µì¡í•¨)
- ë°œì†¡ ì˜ˆì • ë©”ì‹œì§€ í™•ì¸í•˜ê¸° (ë³µì¡í•¨)
- ê²°ì œ ê´€ë¦¬ (ë²”ìœ„ ì™¸)
- ë³µì¡í•œ í†µê³„ (ê¸°ë³¸ ë°ì´í„° ë‹¤ìš´ë¡œë“œë§Œ)

=====================================================
3. ê°„ì†Œí™”ëœ êµ¬í˜„ ê³„íš (í˜„ì¬ UI ê¸°ì¤€)
=====================================================

ğŸ“… **Phase 1: ìŠ¤ë§ˆíŠ¸ ìº˜ë¦°ë” í•µì‹¬ (2ì£¼)**
-------------------
ğŸ¯ **ëª©í‘œ: ê¸°ë³¸ ì˜ˆì•½ ê´€ë¦¬ ì‹œìŠ¤í…œ**

**1.1 ë‚´ ê³µê°„ ìƒì„±í•˜ê¸°**
- `/reservations/places/add`: ê¸°ë³¸ ê³µê°„ ë“±ë¡ í¼ (ì´ë¦„, ì•„ì´ì½˜ë§Œ)
- `/reservations/places`: ê³µê°„ ëª©ë¡ í‘œì‹œ (í˜„ì¬ UI ê·¸ëŒ€ë¡œ)

**1.2 ì˜ˆì•½ ì¶”ê°€í•˜ê¸°**
- `/reservations/create`: ê¸°ë³¸ ì˜ˆì•½ ìƒì„± í¼ (í˜„ì¬ UI ê·¸ëŒ€ë¡œ)
- ê³ ê° ì •ë³´, ë‚ ì§œ/ì‹œê°„, ë©”ëª¨ë§Œ ì…ë ¥

**1.3 ì˜ˆì•½ ìº˜ë¦°ë” ë³´ê¸°**
- `/reservations/calendar`: ì›”ê°„ ìº˜ë¦°ë” (í˜„ì¬ UI ê·¸ëŒ€ë¡œ)
- ì˜ˆì•½ ë°ì´í„° í‘œì‹œë§Œ

**1.4 ìµœê·¼ ì˜ˆì•½ ë‚´ì—­ ë³´ê¸°**
- `/reservations/list`: ì˜ˆì•½ ëª©ë¡ (í˜„ì¬ UI ê·¸ëŒ€ë¡œ)
- ê¸°ë³¸ í•„í„°ë§ë§Œ

**1.5 ì˜ˆì•½ ë°ì´í„° ë‹¤ìš´ë°›ê¸°**
- `/reservations/statistics`: ê¸°ë³¸ í†µê³„ + CSV ë‹¤ìš´ë¡œë“œ

ğŸ“… **Phase 2: ë©”ì‹œì§€ ì‹œìŠ¤í…œ (2ì£¼)** âœ… 90% ì™„ë£Œ
-------------------
ğŸ¯ **ëª©í‘œ: ê¸°ë³¸ SMS ê¸°ëŠ¥**

**2.1 ë°œì‹ ì ì •ë³´ ì„¤ì •í•˜ê¸°** âœ… ì™„ë£Œ
- `/reservations/message/sender-contact`: ê¸°ë³¸ ì—°ë½ì²˜ ë“±ë¡

**2.2 ë©”ì‹œì§€ ë³´ë‚´ê¸°** â³ 90% ì™„ë£Œ (APIë§Œ ë‚¨ìŒ)
- `/reservations/message/send`: ë‹¨ìˆœ ë©”ì‹œì§€ ë°œì†¡

**2.3 ìë™ í…œí”Œë¦¿ ë§Œë“¤ê¸°**
- `/reservations/message/templates`: ê¸°ë³¸ í…œí”Œë¦¿ ê´€ë¦¬

**2.4 ìë™ ë©”ì‹œì§€ ë°œì†¡ ê·œì¹™**
- `/reservations/message/auto`: ê¸°ë³¸ ìë™ ë°œì†¡ ê·œì¹™

ğŸ“… **Phase 3: ê³µìœ  ìº˜ë¦°ë” (1ì£¼)**
-------------------
ğŸ¯ **ëª©í‘œ: ì™¸ë¶€ ê³µìœ  ê¸°ëŠ¥**

**3.1 ê³µìœ  ìº˜ë¦°ë” ë§Œë“¤ê¸°**
- `/reservations/calendar/shared`: ê³µìœ  ë§í¬ ìƒì„±
- ì½ê¸° ì „ìš© ìº˜ë¦°ë” ë·°

=====================================================
4. ê¸°ìˆ  ìŠ¤íƒ (ê¸°ì¡´ ìœ ì§€)
=====================================================

ğŸ—ï¸ **í”„ë¡ íŠ¸ì—”ë“œ (ê¸°ì¡´ ìœ ì§€):**
- Next.js 15 + React 19
- TypeScript
- Tailwind CSS 4
- í˜„ì¬ UI êµ¬ì¡° ê·¸ëŒ€ë¡œ í™œìš©

ğŸ”§ **ë°±ì—”ë“œ (ê¸°ì¡´ ìœ ì§€):**
- Next.js API Routes
- Supabase ë°ì´í„°ë² ì´ìŠ¤
- JWT ì¸ì¦ (ê¸°ì¡´ êµ¬ì¡° ìœ ì§€)

ğŸ”— **ì™¸ë¶€ API (í•„ìš”ì‹œë§Œ):**
- Naver SENS (SMS)
- CSV Export ë¼ì´ë¸ŒëŸ¬ë¦¬


=====================================================
5. ìµœì†Œ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ (ê°„ì†Œí™”)
=====================================================

ğŸ—„ï¸ **í•µì‹¬ í…Œì´ë¸” 5ê°œ (Phase 1~2 êµ¬í˜„):**

```sql
-- ê³µê°„ í…Œì´ë¸”
CREATE TABLE spaces (
    id INT8 PRIMARY KEY,
    user_id INT8 REFERENCES users(id),
    name VARCHAR NOT NULL,
    icon_text VARCHAR,
    icon_color VARCHAR,
    created_at TIMESTAMPTZ,
    updated_at TIMESTAMPTZ
);

-- ì˜ˆì•½ í…Œì´ë¸”
CREATE TABLE reservations (
    id INT8 PRIMARY KEY,
    user_id INT8 REFERENCES users(id),
    space_id INT8 REFERENCES spaces(id),
    customer_name VARCHAR NOT NULL,
    customer_phone VARCHAR NOT NULL,
    customer_email VARCHAR,
    start_datetime TIMESTAMPTZ NOT NULL,
    end_datetime TIMESTAMPTZ NOT NULL,
    guest_count INT4,
    total_amount INT4,
    deposit_amount INT4,
    special_requirements TEXT,
    booking_type VARCHAR,
    status VARCHAR,
    payment_status VARCHAR,
    booking_channel VARCHAR,
    created_at TIMESTAMPTZ,
    updated_at TIMESTAMPTZ
);

-- ì˜ˆì•½ ê´€ë ¨ ë©”ì‹œì§€ í…œí”Œë¦¿
CREATE TABLE reservation_message_templates (
    id INT8 PRIMARY KEY,
    user_id INT8 REFERENCES users(id),
    name VARCHAR NOT NULL,
    content TEXT NOT NULL,
    category VARCHAR,
    is_active BOOL,
    created_at TIMESTAMPTZ,
    updated_at TIMESTAMPTZ
);

-- ë³´ë‚¸ ë©”ì‹œì§€ ê¸°ë¡ (Phase 2.2)
CREATE TABLE reservation_message_logs (
    id BIGSERIAL PRIMARY KEY,
    user_id INT8 REFERENCES users(id),
    reservation_id INT8 REFERENCES reservations(id),
    template_id INT8 REFERENCES reservation_message_templates(id),

    -- ë©”ì‹œì§€ ë‚´ìš©
    message_content TEXT NOT NULL,
    recipient_phone VARCHAR NOT NULL,
    recipient_name VARCHAR,

    -- ë°œì†¡ ì •ë³´
    message_type VARCHAR NOT NULL, -- 'SMS' | 'LMS'
    send_type VARCHAR NOT NULL, -- 'immediate' | 'scheduled' | 'auto'
    scheduled_at TIMESTAMPTZ, -- ì˜ˆì•½ ë°œì†¡ ì‹œê°„
    sent_at TIMESTAMPTZ, -- ì‹¤ì œ ë°œì†¡ ì‹œê°„

    -- ë°œì†¡ ê²°ê³¼
    status VARCHAR NOT NULL, -- 'pending' | 'sent' | 'failed'
    sens_request_id VARCHAR, -- Naver SENS ìš”ì²­ ID
    sens_message_id VARCHAR, -- Naver SENS ë©”ì‹œì§€ ID
    error_message TEXT,

    -- ë¹„ìš©
    message_bytes INT,
    credit_used INT,

    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- ìë™ ë°œì†¡ ê·œì¹™ (Phase 2.2)
CREATE TABLE reservation_auto_message_rules (
    id BIGSERIAL PRIMARY KEY,
    user_id INT8 REFERENCES users(id),
    space_id INT8 REFERENCES spaces(id), -- ëŒ€ìƒ ê³µê°„
    template_id INT8 REFERENCES reservation_message_templates(id),

    -- ê·œì¹™ ì •ë³´
    name VARCHAR NOT NULL, -- ë°œì†¡ ê·œì¹™ ì œëª©
    is_active BOOL DEFAULT true,

    -- ë°œì†¡ ì‹œì  ì„¤ì •
    trigger_event VARCHAR NOT NULL, -- 'checkin' | 'checkout'
    timing_type VARCHAR NOT NULL, -- 'relative' | 'absolute'

    -- ìƒëŒ€ì  ì‹œì  (ì˜ˆ: ì…ì‹¤ 2ì‹œê°„ ì „)
    relative_value INT, -- ìˆ«ì (ì˜ˆ: 2)
    relative_unit VARCHAR, -- 'minutes' | 'hours' | 'days'
    relative_direction VARCHAR, -- 'before' | 'after'

    -- ì ˆëŒ€ì  ì‹œì  (ì˜ˆ: 1ì¼ ì „ 09:00)
    absolute_days_before INT, -- ë©°ì¹  ì „
    absolute_time TIME, -- ì •í™•í•œ ì‹œê°„ (09:00)

    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);
```

**ğŸ”§ ê¸°ë³¸ ì¸ë±ìŠ¤:**
```sql
-- Phase 1
CREATE INDEX idx_spaces_user ON spaces(user_id);
CREATE INDEX idx_reservations_user_date ON reservations(user_id, start_datetime);
CREATE INDEX idx_reservations_space ON reservations(space_id);
CREATE INDEX idx_reservations_channel ON reservations(booking_channel);

-- Phase 2.1
CREATE INDEX idx_reservation_message_templates_user ON reservation_message_templates(user_id);
CREATE INDEX idx_reservation_message_templates_category ON reservation_message_templates(category);

-- Phase 2.2
CREATE INDEX idx_message_logs_user ON reservation_message_logs(user_id);
CREATE INDEX idx_message_logs_reservation ON reservation_message_logs(reservation_id);
CREATE INDEX idx_message_logs_status ON reservation_message_logs(status);
CREATE INDEX idx_message_logs_sent_at ON reservation_message_logs(sent_at);
CREATE INDEX idx_auto_rules_user ON reservation_auto_message_rules(user_id);
CREATE INDEX idx_auto_rules_space ON reservation_auto_message_rules(space_id);
CREATE INDEX idx_auto_rules_active ON reservation_auto_message_rules(is_active);
```

=====================================================
6. ìµœì†Œ API ì„¤ê³„ (ê°„ì†Œí™”)
=====================================================

ğŸŒ **í•µì‹¬ APIë§Œ (9ê°œ ì—”ë“œí¬ì¸íŠ¸):**

**ğŸ“¦ ê³µê°„ ê´€ë¦¬:**
```
GET    /api/spaces              # ê³µê°„ ëª©ë¡
POST   /api/spaces              # ê³µê°„ ì¶”ê°€
DELETE /api/spaces/[id]         # ê³µê°„ ì‚­ì œ
```

**ğŸ“… ì˜ˆì•½ ê´€ë¦¬:**
```
GET    /api/reservations        # ì˜ˆì•½ ëª©ë¡
POST   /api/reservations        # ì˜ˆì•½ ì¶”ê°€
PUT    /api/reservations/[id]   # ì˜ˆì•½ ìˆ˜ì •
DELETE /api/reservations/[id]   # ì˜ˆì•½ ì‚­ì œ
```

**ğŸ“Š ë°ì´í„° Export:**
```
GET    /api/export/reservations # CSV ë‹¤ìš´ë¡œë“œ
```

**ğŸ“± ë©”ì‹œì§€ (Phase 2):**
```
# í…œí”Œë¦¿ ê´€ë¦¬
GET    /api/reservations/message-templates       # í…œí”Œë¦¿ ëª©ë¡
POST   /api/reservations/message-templates       # í…œí”Œë¦¿ ìƒì„±
PUT    /api/reservations/message-templates/[id]  # í…œí”Œë¦¿ ìˆ˜ì •
DELETE /api/reservations/message-templates/[id]  # í…œí”Œë¦¿ ì‚­ì œ

# ë©”ì‹œì§€ ë°œì†¡
POST   /api/reservations/send-message            # ë©”ì‹œì§€ ë°œì†¡ (ì¦‰ì‹œ/ì˜ˆì•½/ìë™)

# ë³´ë‚¸ ë©”ì‹œì§€ ì¡°íšŒ
GET    /api/reservations/message-logs            # ë³´ë‚¸ ë©”ì‹œì§€ ëª©ë¡
GET    /api/reservations/message-logs/[id]       # ë©”ì‹œì§€ ìƒì„¸

# ìë™ ë°œì†¡ ê·œì¹™ ê´€ë¦¬
GET    /api/reservations/auto-rules              # ìë™ ê·œì¹™ ëª©ë¡
POST   /api/reservations/auto-rules              # ìë™ ê·œì¹™ ìƒì„±
PUT    /api/reservations/auto-rules/[id]         # ìë™ ê·œì¹™ ìˆ˜ì •
DELETE /api/reservations/auto-rules/[id]         # ìë™ ê·œì¹™ ì‚­ì œ

# ìë™ ë°œì†¡ ì‹¤í–‰ (Cron Job)
GET    /api/reservations/auto-send-check         # ìë™ ë°œì†¡ ì²´í¬ ë° ì‹¤í–‰
```

=====================================================
7. ê°„ì†Œí™”ëœ ê°œë°œ ì¼ì •
=====================================================

ğŸ“… **Phase 1: ìŠ¤ë§ˆíŠ¸ ìº˜ë¦°ë” (1ì£¼)**
```
âœ… ê³µê°„ ê´€ë¦¬ API (ì™„ë£Œ)
âœ… ì˜ˆì•½ ê´€ë¦¬ API (ì™„ë£Œ)
âœ… CSV Export ê¸°ëŠ¥ (ì™„ë£Œ)
âœ… ì˜ˆì•½ ê´€ë¦¬ í˜ì´ì§€ ë©”ì¸ í™”ë©´ í™œì„±í™” (ì™„ë£Œ)
âœ… ë‚´ ê³µê°„ ì¡°íšŒ/ì¶”ê°€/ìˆ˜ì •/ì‚­ì œ UI (ì™„ë£Œ)
âœ… ì˜ˆì•½ ìƒì„± UI (ì™„ë£Œ)
âœ… ì˜ˆì•½ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ UI (ì™„ë£Œ)
âœ… ìº˜ë¦°ë” ë·° UI (ì™„ë£Œ)
âœ… ì˜ˆì•½ ìƒì„¸ í˜ì´ì§€ UI (ì™„ë£Œ)
âœ… ì˜ˆì•½ ìˆ˜ì • ê¸°ëŠ¥ (ì™„ë£Œ)
âœ… ì˜ˆì•½ ì‚­ì œ ê¸°ëŠ¥ (ì™„ë£Œ)
âœ… ì˜ˆì•½ ë³µì‚¬ ê¸°ëŠ¥ (ì™„ë£Œ)
âœ… í†µê³„ í˜ì´ì§€ êµ¬í˜„ (ì™„ë£Œ)
âœ… ìº˜ë¦°ë” í†µê³„ ë²„íŠ¼ ì—°ë™ (ì™„ë£Œ)
```

ğŸ“… **Phase 2: ë©”ì‹œì§€ ì‹œìŠ¤í…œ (2ì£¼)** âœ… 98% ì™„ë£Œ
```
# Phase 2.1: ë©”ì‹œì§€ í…œí”Œë¦¿ & ë°œì†¡ (1ì£¼) âœ… 100% ì™„ë£Œ
âœ… ê¸°ì¡´ Naver SENS API ì—°ë™ ìœ ì§€
âœ… ë°œì‹ ë²ˆí˜¸ ê´€ë¦¬ UI ì •ë¦¬ ì™„ë£Œ
âœ… ì˜ˆì•½ ê´€ë¦¬ìš© ë©”ì‹œì§€ í…œí”Œë¦¿ ê´€ë¦¬ (CRUD ì™„ë£Œ)
âœ… í…œí”Œë¦¿ ë³€ìˆ˜ ì¹˜í™˜ ({{ê³ ê°ëª…}}, {{ê³µê°„ëª…}}, {{ì˜ˆì•½ë‚ ì§œ}} ë“±)
âœ… ë©”ì‹œì§€ ë³´ë‚´ê¸° UI ì™„ì„± (ì˜ˆì•½ ì„ íƒ, í…œí”Œë¦¿ ì„ íƒ, ë³€ìˆ˜ ì‚½ì…, ë¯¸ë¦¬ë³´ê¸°)
âœ… ë³€ìˆ˜ ì¹˜í™˜ ìœ í‹¸ë¦¬í‹° êµ¬í˜„ (11ê°€ì§€ ë³€ìˆ˜, í¬ë§·íŒ…)
âœ… ë©”ì‹œì§€ ë°œì†¡ API êµ¬í˜„ (POST /api/reservations/send-message)
  - Naver SENS API ì—°ë™
  - ê´‘ê³ ë¨¸ë‹ˆ ì°¨ê° (transactions ê¸°ë°˜)
  - reservation_message_logs ê¸°ë¡
  - ì¦‰ì‹œ ë°œì†¡ ì™„ë£Œ
âœ… ì˜ˆì•½ ìƒì„¸ í˜ì´ì§€ì—ì„œ ë©”ì‹œì§€ ë°œì†¡ ë²„íŠ¼
  - ë©”ì‹œì§€ ë³´ë‚´ê¸° ë²„íŠ¼ í´ë¦­ ì‹œ /message/sendë¡œ ì´ë™
  - URL íŒŒë¼ë¯¸í„°ë¡œ ì˜ˆì•½ ID ì „ë‹¬
  - ë©”ì‹œì§€ í˜ì´ì§€ì—ì„œ ì˜ˆì•½ ìë™ ì„ íƒ
âœ… í…œí”Œë¦¿ì— ì¶”ê°€ ê¸°ëŠ¥
  - "ğŸ“ í…œí”Œë¦¿ì— ì¶”ê°€" ë²„íŠ¼ êµ¬í˜„
  - í˜„ì¬ ë©”ì‹œì§€ ë‚´ìš©ìœ¼ë¡œ í…œí”Œë¦¿ ìƒì„± ëª¨ë‹¬
  - í…œí”Œë¦¿ ê´€ë¦¬ API ì—°ë™

# Phase 2.1.5: ì˜ˆì•½ ë°œì†¡ ì‹œìŠ¤í…œ (ì§„í–‰ì¤‘) â³ 70% ì™„ë£Œ
âœ… reservation_scheduled_messages í…Œì´ë¸” í™•ì¸ (DB ìŠ¤í‚¤ë§ˆ ì¡´ì¬)
âœ… ì˜ˆì•½ ë°œì†¡ UI ì™„ì„± (ë‚ ì§œ/ì‹œê°„ ì„ íƒ, ë¼ë””ì˜¤ ë²„íŠ¼)
â³ ì˜ˆì•½ ë°œì†¡ API êµ¬í˜„ (ì§„í–‰ì¤‘)
  - sendType: 'scheduled' ì²˜ë¦¬
  - reservation_scheduled_messagesì— INSERT
â³ Vercel Cron Job ì„¤ì •
  - vercel.json ìƒì„± (ë§¤ ë¶„ë§ˆë‹¤ ì‹¤í–‰)
  - /api/cron/send-scheduled-messages ì—”ë“œí¬ì¸íŠ¸
  - ì˜ˆì•½ ì‹œê°„ ë„ë˜í•œ ë©”ì‹œì§€ ìë™ ë°œì†¡
  - ê´‘ê³ ë¨¸ë‹ˆ ì°¨ê° (ë°œì†¡ ì‹œì )
  - CRON_SECRET í™˜ê²½ë³€ìˆ˜ ë³´ì•ˆ

# Phase 2.2: ë³´ë‚¸ ë©”ì‹œì§€ & ìë™ ë©”ì‹œì§€ (1ì£¼) â­• ë¯¸ì°©ìˆ˜
âœ… reservation_message_logs í…Œì´ë¸” ìƒì„± (DB ìŠ¤í‚¤ë§ˆ í™•ì¸ ì™„ë£Œ)
â­• ë³´ë‚¸ ë©”ì‹œì§€ ëª©ë¡ API (GET /api/reservations/message-logs)
â­• ë³´ë‚¸ ë©”ì‹œì§€ í˜ì´ì§€ ì—°ë™ (/message/list)
â­• ì˜ˆì•½ ë°œì†¡ ë©”ì‹œì§€ í˜ì´ì§€ ì—°ë™ (/message/list/reserved)
â­• reservation_auto_message_rules í…Œì´ë¸” ìƒì„±
â­• ìë™ ë°œì†¡ ê·œì¹™ CRUD API
â­• ìë™ ë©”ì‹œì§€ ì„¤ì • í˜ì´ì§€ ì—°ë™ (/message/auto)
â­• ë°œì†¡ ê·œì¹™ ë§Œë“¤ê¸° í˜ì´ì§€ ì—°ë™ (/message/auto/create)
```

ğŸ“… **Phase 3: ê³µìœ  ìº˜ë¦°ë” (1ì£¼)**
```
â­• ê³µìœ  ë§í¬ ìƒì„±
â­• ì½ê¸° ì „ìš© ìº˜ë¦°ë”
```

ğŸ¯ **ì´ ê°œë°œ ê¸°ê°„: 4ì£¼ (ê¸°ì¡´ 9ì£¼ â†’ 4ì£¼)**
âœ… **Phase 1 ì™„ë£Œ: 1ì£¼ ì†Œìš” (2025-09-30 ~ 2025-10-01)**
â³ **Phase 2 ì§„í–‰ ì¤‘: 2ì£¼ ì˜ˆì • (2025-10-01 ~ 2025-10-15)**
  - Phase 2.1 (ë©”ì‹œì§€ í…œí”Œë¦¿ & ë°œì†¡): 90% ì™„ë£Œ
  - Phase 2.2 (ë³´ë‚¸ ë©”ì‹œì§€ & ìë™ ë©”ì‹œì§€): ë¯¸ì°©ìˆ˜

=====================================================
ğŸ“ ì£¼ìš” ê³ ë ¤ì‚¬í•­
=====================================================

ğŸ”’ ë³´ì•ˆ:
- PCI DSS ì¤€ìˆ˜ (ê²°ì œ ì •ë³´)
- ê°œì¸ì •ë³´ë³´í˜¸ë²• ì¤€ìˆ˜
- JWT í† í° ë³´ì•ˆ ê°•í™”
- API Rate Limiting

ğŸš€ í™•ì¥ì„±:
- ë©€í‹° í…Œë„ŒíŠ¸ ì•„í‚¤í…ì²˜ ê³ ë ¤
- ìºì‹± ì „ëµ ìˆ˜ë¦½
- ë°ì´í„°ë² ì´ìŠ¤ íŒŒí‹°ì…”ë‹ ê³„íš
- CDN í™œìš© ë°©ì•ˆ

ğŸ“Š ëª¨ë‹ˆí„°ë§:
- ì—ëŸ¬ ì¶”ì  ì‹œìŠ¤í…œ (Sentry)
- ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ (Vercel Analytics)
- ì‚¬ìš©ì í–‰ë™ ë¶„ì„ ë„êµ¬ ì—°ë™
- ì‹¤ì‹œê°„ ì•Œë¦¼ ì‹œìŠ¤í…œ

=====================================================
ğŸ¯ ì„±ê³µ ì§€í‘œ (KPI)
=====================================================

ğŸ“ˆ ë¹„ì¦ˆë‹ˆìŠ¤ ì§€í‘œ:
- ì˜ˆì•½ ìƒì„±ë¥  ì¦ê°€: ì›” 50ê±´ â†’ 200ê±´
- ê²°ì œ ì „í™˜ìœ¨: 80% ì´ìƒ
- ê³ ê° ì¬ë°©ë¬¸ìœ¨: 40% ì´ìƒ
- ìš´ì˜ ì‹œê°„ ë‹¨ì¶•: ì¼ 2ì‹œê°„ â†’ 30ë¶„

ğŸ”§ ê¸°ìˆ  ì§€í‘œ:
- í˜ì´ì§€ ë¡œë”© ì†ë„: 2ì´ˆ ì´í•˜
- API ì‘ë‹µ ì‹œê°„: 500ms ì´í•˜
- ì‹œìŠ¤í…œ ê°€ë™ë¥ : 99.9% ì´ìƒ
- ëª¨ë°”ì¼ ì‚¬ìš©ì„± ì ìˆ˜: 90ì  ì´ìƒ

=====================================================
8. ë‹¤ìŒ ë‹¨ê³„
=====================================================

ğŸ¯ **í˜„ì¬ ìƒíƒœ (2025-10-02 ê¸°ì¤€):**
âœ… ê³µê°„ ê´€ë¦¬ API ì™„ë£Œ
âœ… ì˜ˆì•½ ê´€ë¦¬ API ì™„ë£Œ
âœ… ê¸°ë³¸ UI êµ¬ì¡° ì™„ë£Œ
âœ… CSV Export ê¸°ëŠ¥ ì™„ë£Œ
âœ… ì˜ˆì•½ ê´€ë¦¬ ë©”ì¸ í˜ì´ì§€ í™œì„±í™”
âœ… ë‚´ ê³µê°„ CRUD UI ì™„ë£Œ
âœ… ì˜ˆì•½ ìƒì„±/ì¡°íšŒ/ìˆ˜ì •/ì‚­ì œ UI ì™„ë£Œ
âœ… ìº˜ë¦°ë” ë·° ì™„ë£Œ
âœ… ì˜ˆì•½ ë¦¬ìŠ¤íŠ¸ í•„í„°ë§ ì™„ë£Œ
âœ… í†µê³„ í˜ì´ì§€ êµ¬í˜„ ì™„ë£Œ
âœ… ì˜ˆì•½ ë³µì‚¬ ê¸°ëŠ¥ ì™„ë£Œ
âœ… ì˜ˆì•½ ì±„ë„ ë“œë¡­ë‹¤ìš´ ë™ê¸°í™” ì™„ë£Œ
âœ… ë©”ì‹œì§€ í…œí”Œë¦¿ CRUD ì™„ë£Œ
âœ… ë©”ì‹œì§€ ë³´ë‚´ê¸° UI ì™„ì„±
âœ… ë³€ìˆ˜ ì¹˜í™˜ ìœ í‹¸ë¦¬í‹° êµ¬í˜„ ì™„ë£Œ

ğŸš€ **ë‹¤ìŒ í•  ì¼:**
1. âœ… ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ (ì™„ë£Œ - spaces, reservations í…Œì´ë¸”)
2. âœ… ìº˜ë¦°ë”/ë¦¬ìŠ¤íŠ¸ í˜ì´ì§€ API ì—°ë™ (ì™„ë£Œ)
3. âœ… CSV Export ê¸°ëŠ¥ ì¶”ê°€ (ì™„ë£Œ)
4. âœ… í†µê³„ í˜ì´ì§€ êµ¬í˜„ (ì™„ë£Œ)
5. âœ… Phase 1 ì™„ë£Œ (ì™„ë£Œ)
6. âœ… ë°œì‹ ë²ˆí˜¸ ê´€ë¦¬ UI ì •ë¦¬ (ì™„ë£Œ - ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” í•„ë“œ ì œê±°)
7. âœ… Phase 2 UI í™•ì¸ (ì™„ë£Œ - ëª¨ë“  ë©”ì‹œì§€ UI ì¡´ì¬ í™•ì¸)
8. âœ… Phase 2 DB ë§ˆì´ê·¸ë ˆì´ì…˜ ì‘ì„± (ì™„ë£Œ)
9. âœ… spaces í…Œì´ë¸”ì— host_contact_number_id ì»¬ëŸ¼ ì¶”ê°€ (ì™„ë£Œ)
10. âœ… ë°œì‹ ì ì •ë³´ ì„¤ì • í˜ì´ì§€ êµ¬í˜„ (ì™„ë£Œ)
11. âœ… ë©”ì‹œì§€ í…œí”Œë¦¿ CRUD êµ¬í˜„ (ì™„ë£Œ)
12. âœ… ë³€ìˆ˜ ì¹˜í™˜ ìœ í‹¸ë¦¬í‹° êµ¬í˜„ (ì™„ë£Œ)
13. âœ… ë©”ì‹œì§€ ë³´ë‚´ê¸° UI êµ¬í˜„ (ì™„ë£Œ)
14. âœ… ë©”ì‹œì§€ ë°œì†¡ API êµ¬í˜„ (ì™„ë£Œ)
    - POST /api/reservations/send-message
    - Naver SENS API ì—°ë™
    - ê´‘ê³ ë¨¸ë‹ˆ ì°¨ê° ì—°ë™ (transactions ê¸°ë°˜)
    - reservation_message_logs ê¸°ë¡
    - DB ìŠ¤í‚¤ë§ˆ ì •í•©ì„± í™•ì¸ ë° ìˆ˜ì • (to_number, to_name)
15. âœ… ì˜ˆì•½ ìƒì„¸ í˜ì´ì§€ì— ë©”ì‹œì§€ ë³´ë‚´ê¸° ë²„íŠ¼ ì¶”ê°€
    - /reservations/detail í˜ì´ì§€ ë²„íŠ¼ ì—°ë™
    - URL íŒŒë¼ë¯¸í„°ë¡œ ì˜ˆì•½ ID ì „ë‹¬
    - ë©”ì‹œì§€ í˜ì´ì§€ì—ì„œ ì˜ˆì•½ ìë™ ì„ íƒ
16. âœ… Phase 2.1 ì™„ë£Œ (ì™„ë£Œ)
17. âœ… í…œí”Œë¦¿ì— ì¶”ê°€ ê¸°ëŠ¥ êµ¬í˜„ (ì™„ë£Œ)
    - "ğŸ“ í…œí”Œë¦¿ì— ì¶”ê°€" ë²„íŠ¼ ì¶”ê°€
    - í˜„ì¬ ë©”ì‹œì§€ ë‚´ìš©ìœ¼ë¡œ í…œí”Œë¦¿ ìƒì„±
18. â³ Phase 2.1.5 ì˜ˆì•½ ë°œì†¡ ì‹œìŠ¤í…œ êµ¬í˜„ (ì§„í–‰ì¤‘)
    - send-message API ìˆ˜ì • (scheduled ì²˜ë¦¬)
    - Vercel Cron Job ì„¤ì •
    - ìë™ ë°œì†¡ ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„
19. â³ Phase 2.2 êµ¬í˜„ (ë‹¤ìŒ ë‹¨ê³„)
    - ë³´ë‚¸ ë©”ì‹œì§€ ëª©ë¡ API
    - ë³´ë‚¸ ë©”ì‹œì§€ í˜ì´ì§€ ì—°ë™
    - ìë™ ë©”ì‹œì§€ ê·œì¹™ CRUD

=====================================================
ì‘ì„±ì¼: 2025-09-12
ìµœì¢… ìˆ˜ì •ì¼: 2025-10-02 (Phase 2.1.5 ì˜ˆì•½ ë°œì†¡ ì‹œìŠ¤í…œ êµ¬í˜„ ì‹œì‘)
ì‘ì„±ì: MTS Message ê°œë°œíŒ€
ë²„ì „: 4.7 (í…œí”Œë¦¿ ì¶”ê°€ ê¸°ëŠ¥ ì™„ë£Œ, ì˜ˆì•½ ë°œì†¡ Cron Job êµ¬í˜„ ì‹œì‘)

ğŸ“ **ì°¸ê³  ë¬¸ì„œ:**
- Phase2_2_êµ¬í˜„ê°€ì´ë“œ.md: ë³´ë‚¸ ë©”ì‹œì§€ & ìë™ ë©”ì‹œì§€ ìƒì„¸ êµ¬í˜„ ê°€ì´ë“œ
=====================================================

ğŸ“ **Phase 2 ì£¼ìš” ë³€ê²½ì‚¬í•­:**
- ë©”ì‹œì§€ ê´€ë ¨ UIê°€ ì´ë¯¸ ëª¨ë‘ êµ¬í˜„ë˜ì–´ ìˆìŒì„ í™•ì¸
- UI ìˆ˜ì • ìµœì†Œí™”, ë°±ì—”ë“œ ë¡œì§ë§Œ ì—°ê²°í•˜ëŠ” ë°©í–¥ìœ¼ë¡œ ì „í™˜
- ê¸°ì¡´ UI êµ¬ì¡°ë¥¼ ìµœëŒ€í•œ í™œìš©
- ìƒˆë¡œìš´ UI ìš”ì†ŒëŠ” ì˜ˆì•½ ìƒì„¸ í˜ì´ì§€ì˜ "ë©”ì‹œì§€ ë³´ë‚´ê¸°" ë²„íŠ¼ë§Œ ì¶”ê°€
- DB ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ ìƒì„± ì™„ë£Œ (Phase 2.1, Phase 2.5)
- reservation_message_logs í…Œì´ë¸” ì¤€ë¹„ ì™„ë£Œ

ğŸ“Š **Phase 2.2 ì§„í–‰ ìƒí™© (2025-10-02 ì—…ë°ì´íŠ¸):**
- âœ… UI í™•ì¸ ì™„ë£Œ (ëª¨ë“  ë©”ì‹œì§€ í˜ì´ì§€ ì¡´ì¬)
- âœ… DB ë§ˆì´ê·¸ë ˆì´ì…˜ ì‘ì„± ì™„ë£Œ
- âœ… DB ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰ ì™„ë£Œ (reservation_message_logs í…Œì´ë¸” ìƒì„±)
- âœ… ë³€ìˆ˜ ì¹˜í™˜ ìœ í‹¸ë¦¬í‹° ì‘ì„± ì™„ë£Œ (messageTemplateParser.ts)
  * replaceTemplateVariables - ì˜ˆì•½ ë°ì´í„°ë¡œ ë³€ìˆ˜ ì¹˜í™˜
  * previewTemplate - ìƒ˜í”Œ ë°ì´í„°ë¡œ ë¯¸ë¦¬ë³´ê¸°
  * calculateMessageBytes - ë©”ì‹œì§€ ë°”ì´íŠ¸ ê³„ì‚°
  * determineMessageType - SMS/LMS ìë™ íŒë‹¨
  * 11ê°€ì§€ ë³€ìˆ˜ ì§€ì› (ê³ ê°ëª…, ê³µê°„ëª…, ë‚ ì§œ, ì‹œê°„, ê¸ˆì•¡, ì¸ì›, ì „í™”ë²ˆí˜¸, íŠ¹ì´ì‚¬í•­)
- âœ… í…œí”Œë¦¿ CRUD API êµ¬í˜„ ì™„ë£Œ (GET, POST, PUT, DELETE)
- âœ… í…œí”Œë¦¿ UI ì—°ë™ ì™„ë£Œ (API ë°ì´í„° ë°”ì¸ë”©, ìƒì„±/ìˆ˜ì •/ì‚­ì œ ëª¨ë‹¬)
- âœ… spaces í…Œì´ë¸”ì— host_contact_number_id ì»¬ëŸ¼ ì¶”ê°€ (2025-10-01)
- âœ… ë°œì‹ ì ì •ë³´ ì„¤ì • í˜ì´ì§€ êµ¬í˜„ ì™„ë£Œ (2025-10-01)
  * GET /api/reservations/spaces - sender_numbers JOIN ë¡œì§ ì¶”ê°€
  * PUT /api/reservations/spaces/[id] - host_contact_number_id ì—…ë°ì´íŠ¸
  * /reservations/message/sender-contact - ì „ì²´ ê¸°ëŠ¥ êµ¬í˜„ (ê³µê°„ë³„ í˜¸ìŠ¤íŠ¸ ì—°ë½ì²˜ ì„¤ì •)
- âœ… ë©”ì‹œì§€ ë³´ë‚´ê¸° í˜ì´ì§€ UI ì™„ì„± (2025-10-02)
  * ì˜ˆì•½ ë¦¬ìŠ¤íŠ¸ì—ì„œ ì„ íƒ ëª¨ë‹¬ êµ¬í˜„ (ê²€ìƒ‰, í˜ì´ì§€ë„¤ì´ì…˜, í•„í„°ë§)
  * í…œí”Œë¦¿ ì„ íƒ ëª¨ë‹¬ êµ¬í˜„ (API ì—°ë™)
  * ìë™ ë¬¸êµ¬ ë„£ê¸° ëª¨ë‹¬ êµ¬í˜„ (11ê°€ì§€ ë³€ìˆ˜ ì‚½ì…, ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸°)
  * ë°œì‹ ì ì •ë³´ ëª¨ë‹¬ êµ¬í˜„ (ê³µê°„ë³„ í˜¸ìŠ¤íŠ¸ ì—°ë½ì²˜ í‘œì‹œ)
  * ë¯¸ë¦¬ë³´ê¸° ëª¨ë‹¬ êµ¬í˜„ (ë³€ìˆ˜ ì¹˜í™˜ ì‹¤ì‹œê°„ ë°˜ì˜)
  * ì¦‰ì‹œ ë°œì†¡ / ì˜ˆì•½ ë°œì†¡ UI êµ¬í˜„
  * ë°”ì´íŠ¸ ìˆ˜ ì‹¤ì‹œê°„ ê³„ì‚° (SMS/LMS ìë™ íŒë‹¨)
  * ë°›ëŠ” ì‚¬ëŒ ì •ë³´ ì¹´ë“œ UI (ì˜ˆì•½ ì •ë³´ í‘œì‹œ)
- â³ ë©”ì‹œì§€ ë°œì†¡ API êµ¬í˜„ (ë‹¤ìŒ ë‹¨ê³„)
  * POST /api/reservations/send-message - ì˜ˆì•½ ë©”ì‹œì§€ ë°œì†¡
  * Naver SENS API ì—°ë™
  * í¬ë ˆë”§ ì°¨ê° ì—°ë™
  * reservation_message_logs ê¸°ë¡
- â³ ì˜ˆì•½ ìƒì„¸ í˜ì´ì§€ì— "ë©”ì‹œì§€ ë³´ë‚´ê¸°" ë²„íŠ¼ ì¶”ê°€

ğŸ“Š **Phase 1 êµ¬í˜„ ì™„ë£Œ ìƒì„¸:**

ğŸ—ï¸ **êµ¬í˜„ëœ API ì—”ë“œí¬ì¸íŠ¸ (Phase 1):**
1. GET /api/reservations/spaces - ê³µê°„ ëª©ë¡ ì¡°íšŒ
2. POST /api/reservations/spaces - ê³µê°„ ìƒì„±
3. GET /api/reservations/spaces/[id] - ê³µê°„ ìƒì„¸ ì¡°íšŒ
4. PUT /api/reservations/spaces/[id] - ê³µê°„ ìˆ˜ì •
5. DELETE /api/reservations/spaces/[id] - ê³µê°„ ì‚­ì œ
6. GET /api/reservations/bookings - ì˜ˆì•½ ëª©ë¡ ì¡°íšŒ (í•„í„°ë§ ì§€ì›)
7. POST /api/reservations/bookings - ì˜ˆì•½ ìƒì„± (ì¤‘ë³µ ê²€ì¦ í¬í•¨)
8. GET /api/reservations/bookings/[id] - ì˜ˆì•½ ìƒì„¸ ì¡°íšŒ
9. PUT /api/reservations/bookings/[id] - ì˜ˆì•½ ìˆ˜ì •
10. DELETE /api/reservations/bookings/[id] - ì˜ˆì•½ ì‚­ì œ
11. GET /api/reservations/export/csv - ì˜ˆì•½ ë°ì´í„° CSV ë‹¤ìš´ë¡œë“œ
12. GET /api/reservations/[id] - ì˜ˆì•½ ë‹¨ì¼ ì¡°íšŒ
13. PUT /api/reservations/[id] - ì˜ˆì•½ ìˆ˜ì • (ë‹¤ì¤‘ í•„ë“œëª… ì§€ì›)
14. DELETE /api/reservations/[id] - ì˜ˆì•½ ì‚­ì œ
15. GET /api/reservations/statistics - í†µê³„ ë°ì´í„° ì¡°íšŒ (ì±„ë„ë³„, ê³µê°„ë³„)

ğŸ—ï¸ **êµ¬í˜„ëœ API ì—”ë“œí¬ì¸íŠ¸ (Phase 2):**
16. GET /api/reservations/message-templates - í…œí”Œë¦¿ ëª©ë¡ ì¡°íšŒ
17. POST /api/reservations/message-templates - í…œí”Œë¦¿ ìƒì„±
18. PUT /api/reservations/message-templates/[id] - í…œí”Œë¦¿ ìˆ˜ì •
19. DELETE /api/reservations/message-templates/[id] - í…œí”Œë¦¿ ì‚­ì œ
20. POST /api/reservations/send-message - ë©”ì‹œì§€ ë°œì†¡ (ì™„ë£Œ)
    - Naver SENS API ì—°ë™
    - ê´‘ê³ ë¨¸ë‹ˆ ì°¨ê° (transactions ê¸°ë°˜)
    - reservation_message_logs ê¸°ë¡

ğŸ¨ **êµ¬í˜„ëœ UI í˜ì´ì§€:**
1. /reservations - ì˜ˆì•½ ê´€ë¦¬ ë©”ì¸ ëŒ€ì‹œë³´ë“œ (í™œì„±í™”)
2. /reservations/places - ë‚´ ê³µê°„ ëª©ë¡
3. /reservations/places/add - ê³µê°„ ì¶”ê°€
4. /reservations/places/detail - ê³µê°„ ìƒì„¸ ë³´ê¸°
5. /reservations/places/edit - ê³µê°„ ìˆ˜ì •
6. /reservations/create - ì˜ˆì•½ ìƒì„±
7. /reservations/list - ì˜ˆì•½ ë¦¬ìŠ¤íŠ¸ (í•„í„°ë§)
8. /reservations/detail - ì˜ˆì•½ ìƒì„¸ ë³´ê¸° + ì˜ˆì•½ ë³µì‚¬ ê¸°ëŠ¥
9. /reservations/edit - ì˜ˆì•½ ìˆ˜ì • (ì±„ë„ ëª©ë¡ ë™ê¸°í™” ì™„ë£Œ)
10. /reservations/calendar - ìº˜ë¦°ë” ë·° (í†µê³„ í˜ì´ì§€ ì—°ë™)
11. /reservations/statistics - í†µê³„ í˜ì´ì§€ (ì™„ë£Œ)
12. /reservations/message/sender-contact - ë°œì‹ ì ì •ë³´ ì„¤ì • í˜ì´ì§€ (ì™„ë£Œ)
    * ê³µê°„ë³„ í˜¸ìŠ¤íŠ¸ ì—°ë½ì²˜ ì„¤ì •
    * ë°œì‹ ë²ˆí˜¸ ì„ íƒ ëª¨ë‹¬
    * ì‹ ê·œ ë°œì‹ ë²ˆí˜¸ ë“±ë¡ ëª¨ë‹¬
13. /reservations/message/templates - ë©”ì‹œì§€ í…œí”Œë¦¿ ê´€ë¦¬ í˜ì´ì§€ (ì™„ë£Œ)
    * í…œí”Œë¦¿ ëª©ë¡ ì¡°íšŒ (API ì—°ë™)
    * í…œí”Œë¦¿ ìƒì„± ëª¨ë‹¬ (ë³€ìˆ˜ ì•ˆë‚´, ë¯¸ë¦¬ë³´ê¸°)
    * í…œí”Œë¦¿ ìˆ˜ì • ëª¨ë‹¬
    * í…œí”Œë¦¿ ì‚­ì œ ê¸°ëŠ¥
    * ì¹´í…Œê³ ë¦¬ë³„ ë¶„ë¥˜
14. /reservations/message/send - ë©”ì‹œì§€ ë³´ë‚´ê¸° í˜ì´ì§€ (ì™„ë£Œ)
    * ì˜ˆì•½ ë¦¬ìŠ¤íŠ¸ì—ì„œ ì„ íƒ ëª¨ë‹¬ (ê²€ìƒ‰, í˜ì´ì§€ë„¤ì´ì…˜)
    * í…œí”Œë¦¿ ì„ íƒ ëª¨ë‹¬ (API ì—°ë™)
    * ìë™ ë¬¸êµ¬ ë„£ê¸° ëª¨ë‹¬ (11ê°€ì§€ ë³€ìˆ˜)
    * ë°œì‹ ì ì •ë³´ ëª¨ë‹¬
    * ë¯¸ë¦¬ë³´ê¸° ëª¨ë‹¬ (ë³€ìˆ˜ ì¹˜í™˜ ë°˜ì˜)
    * ì¦‰ì‹œ ë°œì†¡ / ì˜ˆì•½ ë°œì†¡ ì„ íƒ
    * ë°”ì´íŠ¸ ìˆ˜ ì‹¤ì‹œê°„ ê³„ì‚°

ğŸ—„ï¸ **êµ¬í˜„ëœ ë°ì´í„°ë² ì´ìŠ¤:**
- **spaces í…Œì´ë¸”**: ê³µê°„ ì •ë³´ ì €ì¥
  - í•„ë“œ: id, user_id, name, icon_text, icon_color, host_contact_number_id, created_at, updated_at
  - ê³µê°„ ì•„ì´ì½˜ ì»¤ìŠ¤í„°ë§ˆì´ì§• ì§€ì›
  - ê³µê°„ë³„ í˜¸ìŠ¤íŠ¸ ì—°ë½ì²˜ ì„¤ì • ì§€ì› (sender_numbers í…Œì´ë¸”ê³¼ FK ì—°ê²°)

- **reservations í…Œì´ë¸”**: ì˜ˆì•½ ì •ë³´ ì €ì¥
  - í•„ë“œ: id, user_id, space_id, customer_name, customer_phone, customer_email
  - start_datetime, end_datetime, guest_count
  - total_amount, deposit_amount, special_requirements
  - booking_type, status, payment_status, booking_channel
  - created_at, updated_at
  - ì˜ˆì•½ ì‹œê°„ ì¤‘ë³µ ê²€ì‚¬ ë¡œì§ í¬í•¨
  - 10ê°œ ì˜ˆì•½ ì±„ë„ ì§€ì›

- **reservation_message_templates í…Œì´ë¸”**: ì˜ˆì•½ ë©”ì‹œì§€ í…œí”Œë¦¿
  - í•„ë“œ: id, user_id, name, content, category, is_active
  - created_at, updated_at
  - ìë™ ë©”ì‹œì§€ ë°œì†¡ìš© í…œí”Œë¦¿ ê´€ë¦¬

âœ¨ **ì£¼ìš” êµ¬í˜„ ê¸°ëŠ¥:**
- JWT ì¸ì¦ ê¸°ë°˜ ì‚¬ìš©ìë³„ ë°ì´í„° ê´€ë¦¬
- ì˜ˆì•½ ì‹œê°„ ì¤‘ë³µ ê²€ì‚¬ ë° ì¶©ëŒ ë°©ì§€
- ê³µê°„/ì˜ˆì•½ í•„í„°ë§ ë° ê²€ìƒ‰
- CSV í˜•ì‹ ë°ì´í„° Export (í•œê¸€ BOM ì§€ì›)
- ë°˜ì‘í˜• UI ë””ìì¸
- ì‹¤ì‹œê°„ ì˜ˆì•½ ê°€ëŠ¥ ì‹œê°„ í™•ì¸
- ì˜ˆì•½ ìƒíƒœ ê´€ë¦¬ (confirmed, cancelled)
- ê²°ì œ ìƒíƒœ ì¶”ì  (pending, paid, refunded)
- ì˜ˆì•½ ë³µì‚¬ ê¸°ëŠ¥ (ë‹¤ë¥¸ ê³µê°„ìœ¼ë¡œ ì˜ˆì•½ ë³µì‚¬)
- ì±„ë„ë³„/ê³µê°„ë³„ í†µê³„ ì°¨íŠ¸ (Chart.js í™œìš©)
- ì˜ˆì•½ ì±„ë„ ëª©ë¡ í‘œì¤€í™” (10ê°œ ì±„ë„)
  * ì•„ì›Œí”Œë ˆì´ìŠ¤, ìŠ¤í˜ì´ìŠ¤í´ë¼ìš°ë“œ, ì—¬ê¸°ì–´ë•Œ, ì›¨ì´ë‹›, ë¹Œë¦¬ì˜¤
  * ì¹´ì¹´ì˜¤ ì±„ë„, ë„¤ì´ë²„ ì˜ˆì•½, ì „í™”, ì¸ìŠ¤íƒ€ê·¸ë¨, í™ˆí˜ì´ì§€, ì§ì ‘ì…ë ¥
- Next.js 15 í˜¸í™˜ì„± (Promise ê¸°ë°˜ params ì²˜ë¦¬)

=====================================================
ğŸ“… Phase 2: ì˜ˆì•½ ë©”ì‹œì§€ ì‹œìŠ¤í…œ êµ¬í˜„ ê³„íš (ìƒì„¸)
=====================================================

ğŸ¯ **ëª©í‘œ:**
- ê¸°ì¡´ Naver SENS APIë¥¼ í™œìš©í•œ ì˜ˆì•½ ë©”ì‹œì§€ ë°œì†¡ ê¸°ëŠ¥
- ì˜ˆì•½ ì •ë³´ë¥¼ í™œìš©í•œ ìë™ ë³€ìˆ˜ ì¹˜í™˜
- ì˜ˆì•½ ìƒì„¸ í˜ì´ì§€ì—ì„œ ì§ì ‘ ë©”ì‹œì§€ ë°œì†¡
- ì¬ì‚¬ìš© ê°€ëŠ¥í•œ í…œí”Œë¦¿ ê´€ë¦¬

=====================================================
0. ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ (ì™„ë£Œ)
=====================================================

âœ… **ìƒì„±ëœ ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼:**

1. **20251001_add_reservation_message_logs.sql** (Phase 2.1 - í•„ìˆ˜)
   - `reservation_message_logs` í…Œì´ë¸” ìƒì„±
   - ë°œì†¡ ì´ë ¥ ì €ì¥ (ë³´ë‚¸ ë©”ì‹œì§€ ëª©ë¡ìš©)
   - RLS ì •ì±… ë° ì¸ë±ìŠ¤ í¬í•¨
   - ë°œì†¡ í†µê³„ ë·° ìƒì„±

2. **20251001_add_reservation_auto_messages.sql** (Phase 2.5 - ì¶”í›„)
   - `reservation_auto_message_rules` í…Œì´ë¸” (ìë™ ë°œì†¡ ê·œì¹™)
   - `reservation_scheduled_messages` í…Œì´ë¸” (ë°œì†¡ ì˜ˆì • ë©”ì‹œì§€)
   - ìë™ ë©”ì‹œì§€ ìƒì„± íŠ¸ë¦¬ê±° í•¨ìˆ˜ (ë¹„í™œì„±í™” ìƒíƒœ)

3. **README_PHASE2_MIGRATIONS.md**
   - ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰ ê°€ì´ë“œ
   - í…Œì´ë¸” ê´€ê³„ë„
   - í…ŒìŠ¤íŠ¸ ì¿¼ë¦¬ ì˜ˆì œ
   - ë¡¤ë°± ë°©ë²•

**í…Œì´ë¸” êµ¬ì¡°:**

```
reservation_message_logs (Phase 2.1 - ë°œì†¡ ì´ë ¥)
â”œâ”€ id (BIGSERIAL)
â”œâ”€ user_id (BIGINT) â†’ users
â”œâ”€ reservation_id (BIGINT) â†’ reservations (NULL ê°€ëŠ¥)
â”œâ”€ template_id (BIGINT) â†’ reservation_message_templates (NULL ê°€ëŠ¥)
â”œâ”€ to_number (VARCHAR) - ìˆ˜ì‹ ì ì „í™”ë²ˆí˜¸
â”œâ”€ to_name (VARCHAR) - ìˆ˜ì‹ ì ì´ë¦„
â”œâ”€ message_content (TEXT) - ë©”ì‹œì§€ ë‚´ìš©
â”œâ”€ message_type (VARCHAR) - SMS/LMS/MMS
â”œâ”€ sent_at (TIMESTAMPTZ) - ë°œì†¡ ì‹œê°„
â”œâ”€ status (VARCHAR) - sent/failed
â”œâ”€ error_message (TEXT)
â””â”€ created_at (TIMESTAMPTZ)

ì¸ë±ìŠ¤:
- idx_reservation_message_logs_user (user_id)
- idx_reservation_message_logs_reservation (reservation_id)
- idx_reservation_message_logs_sent_at (sent_at DESC)
- idx_reservation_message_logs_status (status)

RLS ì •ì±…:
- ì‚¬ìš©ìëŠ” ìì‹ ì˜ ë©”ì‹œì§€ ì´ë ¥ë§Œ ì¡°íšŒ/ì¶”ê°€ ê°€ëŠ¥
```

**ì‹¤í–‰ ë°©ë²•:**
1. Supabase Dashboard â†’ SQL Editor
2. `20251001_add_reservation_message_logs.sql` ë³µì‚¬ & ì‹¤í–‰
3. í…Œì´ë¸” ìƒì„± í™•ì¸:
   ```sql
   SELECT * FROM reservation_message_logs LIMIT 1;
   ```

**UI ì—°ë™:**
- `/reservations/message/list` - ë³´ë‚¸ ë©”ì‹œì§€ ëª©ë¡ í˜ì´ì§€

=====================================================
1. ê¸°ì¡´ ì‹œìŠ¤í…œ í†µí•© ë°©ì¹¨
=====================================================

âœ… **ë³€ê²½í•˜ì§€ ì•Šì„ ë¶€ë¶„:**
- `src/lib/naverSensApi.ts` - Naver SENS API ë¡œì§ ìœ ì§€
- `src/app/api/message/send/route.ts` - ê¸°ë³¸ ë©”ì‹œì§€ ë°œì†¡ API ìœ ì§€
- TEST_CALLING_NUMBER í™˜ê²½ë³€ìˆ˜ë¡œ ê³ ì • ë°œì‹  (ë³€ê²½ ë¶ˆê°€)
- sender_numbers í…Œì´ë¸” êµ¬ì¡° ìœ ì§€

âœ… **ì™„ë£Œëœ ì‘ì—…:**
- ë°œì‹ ë²ˆí˜¸ ê´€ë¦¬ UI ì •ë¦¬ (í†µì‹ ì‚¬, ì„œë¥˜ ì²¨ë¶€ í•„ë“œ ì œê±°)
- ì‹œìŠ¤í…œ ê¸°ë³¸ë²ˆí˜¸ "[ë¹„ê³µê°œ]"ë¡œ í‘œì‹œ
- ì‚¬ìš©ì ì „í™”ë²ˆí˜¸ "ë³¸ì¸" íƒœê·¸ í‘œì‹œ
- "ê¸°ë³¸ìœ¼ë¡œ ì„¤ì •" ì‹œë„ ì‹œ "ì¤€ë¹„ì¤‘" ëª¨ë‹¬

=====================================================
2. êµ¬í˜„í•  ê¸°ëŠ¥
=====================================================

ğŸ“‹ **2.1 ì˜ˆì•½ ë©”ì‹œì§€ í…œí”Œë¦¿ ê´€ë¦¬**

**ë°ì´í„°ë² ì´ìŠ¤ (ì´ë¯¸ ì¡´ì¬):**
- reservation_message_templates í…Œì´ë¸” í™œìš©
  * id, user_id, name, content, category, is_active
  * created_at, updated_at

**ì§€ì›í•  í…œí”Œë¦¿ ë³€ìˆ˜:**
```
{{ê³ ê°ëª…}} â†’ customer_name
{{ê³µê°„ëª…}} â†’ space.name (JOIN spaces)
{{ì˜ˆì•½ë‚ ì§œ}} â†’ start_datetime (YYYY-MM-DD í˜•ì‹)
{{ì²´í¬ì¸ì‹œê°„}} â†’ start_datetime (HH:mm í˜•ì‹)
{{ì²´í¬ì•„ì›ƒì‹œê°„}} â†’ end_datetime (HH:mm í˜•ì‹)
{{ì¸ì›ìˆ˜}} â†’ guest_count
{{ì´ê¸ˆì•¡}} â†’ total_amount (ì› ë‹¨ìœ„, ì½¤ë§ˆ í¬í•¨)
{{ì…ê¸ˆì•¡}} â†’ deposit_amount (ì› ë‹¨ìœ„, ì½¤ë§ˆ í¬í•¨)
{{ì”ê¸ˆ}} â†’ (total_amount - deposit_amount)
{{ì „í™”ë²ˆí˜¸}} â†’ customer_phone
{{íŠ¹ì´ì‚¬í•­}} â†’ special_requirements
```

**í…œí”Œë¦¿ ì¹´í…Œê³ ë¦¬:**
- ì˜ˆì•½ í™•ì • ì•ˆë‚´
- ì²´í¬ì¸ ì•ˆë‚´
- ì²´í¬ì•„ì›ƒ ì•ˆë‚´
- ì˜ˆì•½ ë³€ê²½ ì•ˆë‚´
- ì˜ˆì•½ ì·¨ì†Œ ì•ˆë‚´
- ê¸°íƒ€

**API ì—”ë“œí¬ì¸íŠ¸:**
```
GET    /api/reservations/message-templates       # í…œí”Œë¦¿ ëª©ë¡
POST   /api/reservations/message-templates       # í…œí”Œë¦¿ ìƒì„±
PUT    /api/reservations/message-templates/[id]  # í…œí”Œë¦¿ ìˆ˜ì •
DELETE /api/reservations/message-templates/[id]  # í…œí”Œë¦¿ ì‚­ì œ
```

**UI ìœ„ì¹˜:**
```
/reservations/message/templates
- í…œí”Œë¦¿ ëª©ë¡ (ì¹´í…Œê³ ë¦¬ë³„ í•„í„°ë§)
- í…œí”Œë¦¿ ì¶”ê°€/ìˆ˜ì • ëª¨ë‹¬
- í…œí”Œë¦¿ ë¯¸ë¦¬ë³´ê¸° (ë³€ìˆ˜ ìƒ˜í”Œ ë°ì´í„°ë¡œ ì¹˜í™˜ í‘œì‹œ)
- í™œì„±í™”/ë¹„í™œì„±í™” í† ê¸€
```

---

ğŸ“‹ **2.2 ì˜ˆì•½ ìƒì„¸ í˜ì´ì§€ì—ì„œ ë©”ì‹œì§€ ë°œì†¡**

**ë°œì†¡ í”Œë¡œìš°:**
1. ì˜ˆì•½ ìƒì„¸ í˜ì´ì§€ì— "ë©”ì‹œì§€ ë³´ë‚´ê¸°" ë²„íŠ¼ ì¶”ê°€
2. ë²„íŠ¼ í´ë¦­ ì‹œ ë©”ì‹œì§€ ë°œì†¡ ëª¨ë‹¬ ì˜¤í”ˆ
3. í…œí”Œë¦¿ ì„ íƒ ë“œë¡­ë‹¤ìš´ í‘œì‹œ
4. ì„ íƒí•œ í…œí”Œë¦¿ì˜ ë³€ìˆ˜ê°€ í˜„ì¬ ì˜ˆì•½ ë°ì´í„°ë¡œ ìë™ ì¹˜í™˜
5. ìµœì¢… ë©”ì‹œì§€ ë‚´ìš© í™•ì¸ ë° ìˆ˜ì • ê°€ëŠ¥
6. "ë°œì†¡" ë²„íŠ¼ìœ¼ë¡œ ì¦‰ì‹œ ë°œì†¡
7. ë°œì†¡ ê²°ê³¼ í‘œì‹œ (ì„±ê³µ/ì‹¤íŒ¨)

**API ì—”ë“œí¬ì¸íŠ¸:**
```
POST /api/reservations/send-message
Body: {
  reservationId: number,
  templateId?: number,  // ì„ íƒì‚¬í•­
  message: string,      // ìµœì¢… ë©”ì‹œì§€ ë‚´ìš©
  toNumber: string      // ìˆ˜ì‹ ì ë²ˆí˜¸ (ê¸°ë³¸ê°’: customer_phone)
}

Response: {
  success: boolean,
  messageId?: string,
  error?: string
}
```

**ë³€ìˆ˜ ì¹˜í™˜ ë¡œì§ (ì„œë²„ì‚¬ì´ë“œ):**
```typescript
// src/utils/messageTemplateParser.ts
export function replaceTemplateVariables(
  template: string,
  reservation: ReservationWithSpace
): string {
  // {{ê³ ê°ëª…}}, {{ê³µê°„ëª…}} ë“±ì„ ì‹¤ì œ ë°ì´í„°ë¡œ ì¹˜í™˜
  // ë‚ ì§œ/ì‹œê°„ í¬ë§·íŒ…
  // ê¸ˆì•¡ ì½¤ë§ˆ ì¶”ê°€
}
```

**UI ìˆ˜ì •:**
```
/reservations/detail/[id]
- ê¸°ì¡´ í˜ì´ì§€ì— "ë©”ì‹œì§€ ë³´ë‚´ê¸°" ë²„íŠ¼ ì¶”ê°€
- ë©”ì‹œì§€ ë°œì†¡ ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸ ì¶”ê°€
  * í…œí”Œë¦¿ ì„ íƒ ë“œë¡­ë‹¤ìš´
  * ë©”ì‹œì§€ ë‚´ìš© TextArea (ì‹¤ì‹œê°„ ë³€ìˆ˜ ì¹˜í™˜ ë¯¸ë¦¬ë³´ê¸°)
  * ë°›ëŠ” ì‚¬ëŒ í‘œì‹œ (ìˆ˜ì • ë¶ˆê°€)
  * ë°œì†¡ ë²„íŠ¼
```

---

ğŸ“‹ **2.3 ë©”ì‹œì§€ ë°œì†¡ ì´ë ¥ (ì„ íƒì‚¬í•­ - Phase 2.5)**

**í™•ì¥ ê°€ëŠ¥ì„± ê³ ë ¤:**
ë‚˜ì¤‘ì— í•„ìš”í•˜ë©´ ë©”ì‹œì§€ ë°œì†¡ ì´ë ¥ í…Œì´ë¸” ì¶”ê°€
```sql
CREATE TABLE reservation_message_logs (
  id BIGSERIAL PRIMARY KEY,
  user_id BIGINT REFERENCES users(id),
  reservation_id BIGINT REFERENCES reservations(id),
  template_id BIGINT REFERENCES reservation_message_templates(id),
  to_number VARCHAR NOT NULL,
  message_content TEXT NOT NULL,
  sent_at TIMESTAMPTZ DEFAULT NOW(),
  status VARCHAR, -- 'sent', 'failed'
  error_message TEXT
);
```

í•˜ì§€ë§Œ Phase 2ì—ì„œëŠ” êµ¬í˜„í•˜ì§€ ì•Šê³ , ê¸°ë³¸ ë°œì†¡ ê¸°ëŠ¥ë§Œ êµ¬í˜„.

=====================================================
3. êµ¬í˜„ ìš°ì„ ìˆœìœ„ (UIëŠ” ì´ë¯¸ ì™„ì„±ë¨)
=====================================================

**âœ… ì™„ë£Œëœ ì‘ì—…:**
- ëª¨ë“  ë©”ì‹œì§€ ê´€ë ¨ UI í˜ì´ì§€ ì™„ì„±
- í…œí”Œë¦¿ ê´€ë¦¬ UI ì™„ì„±
- ë©”ì‹œì§€ ë°œì†¡ UI ì™„ì„±
- ìë™ ë©”ì‹œì§€ UI ì™„ì„±

**ğŸ”„ ì§„í–‰í•  ì‘ì—… (ë°±ì—”ë“œë§Œ):**

**Day 1: í…œí”Œë¦¿ API êµ¬í˜„ (3-4ì‹œê°„)**
```
1. ë³€ìˆ˜ ì¹˜í™˜ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ì‘ì„±
   - src/utils/messageTemplateParser.ts
   - 10ê°€ì§€ ë³€ìˆ˜ ì§€ì› ({{ê³ ê°ëª…}}, {{ê³µê°„ëª…}} ë“±)

2. í…œí”Œë¦¿ CRUD API ì‘ì„±
   - GET /api/reservations/message-templates (ëª©ë¡)
   - POST /api/reservations/message-templates (ìƒì„±)
   - GET /api/reservations/message-templates/[id] (ìƒì„¸)
   - PUT /api/reservations/message-templates/[id] (ìˆ˜ì •)
   - DELETE /api/reservations/message-templates/[id] (ì‚­ì œ)
```

**Day 2: í…œí”Œë¦¿ UI ì—°ë™ (2-3ì‹œê°„)**
```
1. templates/page.tsx ìˆ˜ì •
   - ìƒ˜í”Œ ë°ì´í„° ì œê±°
   - API í˜¸ì¶œë¡œ ì‹¤ì œ ë°ì´í„° ë¡œë“œ
   - ì¶”ê°€/ìˆ˜ì •/ì‚­ì œ ê¸°ëŠ¥ API ì—°ê²°
   - ì¹´í…Œê³ ë¦¬ í•„í„°ë§ êµ¬í˜„
```

**Day 3: ë©”ì‹œì§€ ë°œì†¡ API êµ¬í˜„ (3-4ì‹œê°„)**
```
1. ë°œì†¡ API ì‘ì„±
   - POST /api/reservations/send-message
   - ì˜ˆì•½ ë°ì´í„° ì¡°íšŒ (JOIN spaces)
   - í…œí”Œë¦¿ ë³€ìˆ˜ ì¹˜í™˜
   - Naver SENS API í˜¸ì¶œ
   - í¬ë ˆë”§ ì°¨ê° ì—°ë™

2. ì˜ˆì•½ ë¦¬ìŠ¤íŠ¸ ì„ íƒ API ì¶”ê°€
   - GET /api/reservations/bookings (ì´ë¯¸ ì¡´ì¬ - í™œìš©)
```

**Day 4: ë©”ì‹œì§€ ë°œì†¡ UI ì—°ë™ (2-3ì‹œê°„)**
```
1. send/page.tsx ìˆ˜ì •
   - "ì˜ˆì•½ ë¦¬ìŠ¤íŠ¸ì—ì„œ ì„ íƒí•˜ê¸°" ëª¨ë‹¬ êµ¬í˜„
   - "ë‚´ í…œí”Œë¦¿ì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸°" ë“œë¡­ë‹¤ìš´ ì—°ë™
   - "ìë™ ë¬¸êµ¬ ë„£ê¸°" ë³€ìˆ˜ ì‚½ì… ë²„íŠ¼
   - ë°œì†¡ API ì—°ê²°
   - ë°”ì´íŠ¸ ìˆ˜ ê³„ì‚° (SMS/LMS ìë™ íŒë‹¨)

2. detail/[id]/page.tsx ìˆ˜ì •
   - "ë©”ì‹œì§€ ë³´ë‚´ê¸°" ë²„íŠ¼ ì¶”ê°€
   - /message/send?reservationId={id} ì´ë™
```

**ì´ ì˜ˆìƒ ì‹œê°„: 10-14ì‹œê°„ (1.5-2ì¼)**
```

=====================================================
4. íŒŒì¼ êµ¬ì¡°
=====================================================

**âœ… ì´ë¯¸ ì¡´ì¬í•˜ëŠ” UI íŒŒì¼ (ìˆ˜ì • ê¸ˆì§€):**
```
src/app/reservations/message/
â”œâ”€â”€ page.tsx                    # ë©”ì‹œì§€ ë©”ì¸ ë©”ë‰´ (ì™„ì„±)
â”œâ”€â”€ templates/page.tsx          # í…œí”Œë¦¿ ê´€ë¦¬ UI (ì™„ì„± - ìƒ˜í”Œ ë°ì´í„°ë§Œ í‘œì‹œ)
â”œâ”€â”€ send/page.tsx              # ë©”ì‹œì§€ ë³´ë‚´ê¸° UI (ì™„ì„±)
â”œâ”€â”€ list/page.tsx              # ë³´ë‚¸ ë©”ì‹œì§€ ëª©ë¡ UI (ì™„ì„±)
â”œâ”€â”€ list/reserved/page.tsx     # ë°œì†¡ ì˜ˆì • ë©”ì‹œì§€ UI (ì™„ì„±)
â”œâ”€â”€ auto/page.tsx              # ìë™ ë©”ì‹œì§€ ì„¤ì • UI (ì™„ì„±)
â”œâ”€â”€ auto/create/page.tsx       # ìë™ ë©”ì‹œì§€ ìƒì„± UI (ì™„ì„±)
â””â”€â”€ sender-contact/page.tsx    # ë°œì‹ ì ì •ë³´ ì„¤ì • UI (ì™„ì„±)
```

**ğŸ†• ì‹ ê·œ ìƒì„±í•  íŒŒì¼ (ë°±ì—”ë“œ APIë§Œ):**
```
src/
â”œâ”€â”€ app/
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ reservations/
â”‚           â”œâ”€â”€ message-templates/
â”‚           â”‚   â”œâ”€â”€ route.ts              # GET, POST (í…œí”Œë¦¿ ëª©ë¡/ìƒì„±)
â”‚           â”‚   â””â”€â”€ [id]/
â”‚           â”‚       â””â”€â”€ route.ts          # GET, PUT, DELETE (í…œí”Œë¦¿ ìƒì„¸/ìˆ˜ì •/ì‚­ì œ)
â”‚           â””â”€â”€ send-message/
â”‚               â””â”€â”€ route.ts              # POST (ë©”ì‹œì§€ ë°œì†¡)
â””â”€â”€ utils/
    â””â”€â”€ messageTemplateParser.ts          # ë³€ìˆ˜ ì¹˜í™˜ ë¡œì§
```

**ğŸ”§ ìˆ˜ì •í•  íŒŒì¼ (ê¸°ëŠ¥ ì—°ê²°ë§Œ):**
```
src/app/reservations/message/templates/page.tsx
- ìƒ˜í”Œ ë°ì´í„° ì œê±°
- API í˜¸ì¶œë¡œ ì‹¤ì œ ë°ì´í„° ë¡œë“œ
- í…œí”Œë¦¿ ì¶”ê°€/ìˆ˜ì •/ì‚­ì œ ê¸°ëŠ¥ API ì—°ê²°

src/app/reservations/message/send/page.tsx
- "ì˜ˆì•½ ë¦¬ìŠ¤íŠ¸ì—ì„œ ì„ íƒí•˜ê¸°" ê¸°ëŠ¥ êµ¬í˜„
- "ë‚´ í…œí”Œë¦¿ì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸°" ê¸°ëŠ¥ êµ¬í˜„
- "ìë™ ë¬¸êµ¬ ë„£ê¸°" ë³€ìˆ˜ ì‚½ì… ê¸°ëŠ¥
- ë°œì†¡ API ì—°ê²°

src/app/reservations/detail/[id]/page.tsx
- "ë©”ì‹œì§€ ë³´ë‚´ê¸°" ë²„íŠ¼ ì¶”ê°€ (ìƒˆë¡œìš´ UI ìš”ì†Œ)
- ë©”ì‹œì§€ ë°œì†¡ ëª¨ë‹¬ ë˜ëŠ” /message/sendë¡œ ì´ë™
```

=====================================================
5. ì£¼ì˜ì‚¬í•­
=====================================================

ğŸš¨ **ë°œì‹ ë²ˆí˜¸ ì œì•½:**
- í˜„ì¬ TEST_CALLING_NUMBERë¡œë§Œ ë°œì†¡ ê°€ëŠ¥
- UIì—ì„œ ë°œì‹ ë²ˆí˜¸ ë³€ê²½ ë¶ˆê°€ (ì‹œìŠ¤í…œ ì œì•½)
- ì‚¬ìš©ìì—ê²Œ ëª…í™•íˆ ì•ˆë‚´

âš ï¸ **ë©”ì‹œì§€ ê¸¸ì´ ì œí•œ:**
- SMS: 90ì ì´í•˜
- LMS: 90ì ì´ˆê³¼ 2000ì ì´í•˜
- ìë™ìœ¼ë¡œ SMS/LMS ì„ íƒ (naverSensApi.ts ë¡œì§ í™œìš©)

ğŸ’° **í¬ë ˆë”§ ì°¨ê°:**
- ê¸°ì¡´ ë©”ì‹œì§€ í¬ë ˆë”§ ì‹œìŠ¤í…œ í™œìš©
- ë°œì†¡ ì „ ì”ì•¡ í™•ì¸ í•„ìˆ˜
- ë°œì†¡ ì‹¤íŒ¨ ì‹œ í¬ë ˆë”§ í™˜ë¶ˆ ë¶ˆí•„ìš” (SENS APIê°€ ì‹¤íŒ¨í•˜ë©´ ì°¨ê° ì•ˆë¨)

ğŸ” **ê¶Œí•œ ì²´í¬:**
- ì˜ˆì•½ ì†Œìœ ìë§Œ ë©”ì‹œì§€ ë°œì†¡ ê°€ëŠ¥
- JWT í† í° ê²€ì¦ í•„ìˆ˜
- user_id ê¸°ë°˜ ê¶Œí•œ ì²´í¬

=====================================================
6. í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤
=====================================================

**í…œí”Œë¦¿ ê´€ë¦¬ í…ŒìŠ¤íŠ¸:**
1. í…œí”Œë¦¿ ìƒì„± (ëª¨ë“  ë³€ìˆ˜ í¬í•¨)
2. í…œí”Œë¦¿ ëª©ë¡ ì¡°íšŒ (ì¹´í…Œê³ ë¦¬ í•„í„°)
3. í…œí”Œë¦¿ ìˆ˜ì •
4. í…œí”Œë¦¿ ë¯¸ë¦¬ë³´ê¸° (ë³€ìˆ˜ ì¹˜í™˜ í™•ì¸)
5. í…œí”Œë¦¿ ì‚­ì œ

**ë©”ì‹œì§€ ë°œì†¡ í…ŒìŠ¤íŠ¸:**
1. ì˜ˆì•½ ìƒì„¸ í˜ì´ì§€ì—ì„œ "ë©”ì‹œì§€ ë³´ë‚´ê¸°" í´ë¦­
2. í…œí”Œë¦¿ ì„ íƒ â†’ ë³€ìˆ˜ ìë™ ì¹˜í™˜ í™•ì¸
3. ë©”ì‹œì§€ ë‚´ìš© ìˆ˜ë™ ìˆ˜ì •
4. ë°œì†¡ â†’ ì„±ê³µ/ì‹¤íŒ¨ ë©”ì‹œì§€ í™•ì¸
5. ì‹¤ì œ íœ´ëŒ€í°ìœ¼ë¡œ ë©”ì‹œì§€ ìˆ˜ì‹  í™•ì¸

**ì—£ì§€ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸:**
1. í…œí”Œë¦¿ ì—†ì´ ì§ì ‘ ë©”ì‹œì§€ ì‘ì„± ë°œì†¡
2. ì˜ˆì•½ ë°ì´í„°ê°€ ë¶€ì¡±í•œ ê²½ìš° (null í•„ë“œ)
3. ì˜ëª»ëœ ì „í™”ë²ˆí˜¸ í˜•ì‹
4. í¬ë ˆë”§ ë¶€ì¡± ì‹œ ë°œì†¡ ì°¨ë‹¨
5. ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ì²˜ë¦¬

=====================================================
7. ì„±ê³µ ê¸°ì¤€
=====================================================

âœ… **ê¸°ëŠ¥ ì™„ì„±ë„:**
- í…œí”Œë¦¿ CRUD ë™ì‘
- ë³€ìˆ˜ ì¹˜í™˜ ì •í™•ë„ 100%
- ì˜ˆì•½ ìƒì„¸ì—ì„œ ë©”ì‹œì§€ ë°œì†¡ ê°€ëŠ¥
- ë°œì†¡ ì„±ê³µë¥  95% ì´ìƒ

âœ… **ì‚¬ìš©ì ê²½í—˜:**
- í…œí”Œë¦¿ ì„ íƒ í›„ 3í´ë¦­ ì´ë‚´ ë°œì†¡
- ë³€ìˆ˜ ë¯¸ë¦¬ë³´ê¸° ì‹¤ì‹œê°„ ë°˜ì˜
- ë°œì†¡ ê²°ê³¼ ì¦‰ì‹œ í”¼ë“œë°±
- ëª¨ë°”ì¼ ë°˜ì‘í˜• ì§€ì›

âœ… **ì½”ë“œ í’ˆì§ˆ:**
- TypeScript íƒ€ì… ì•ˆì „ì„±
- ì—ëŸ¬ í•¸ë“¤ë§ ì™„ë²½
- ê¸°ì¡´ ì½”ë“œì™€ ì¶©ëŒ ì—†ìŒ
- ì£¼ì„ ë° ë¬¸ì„œí™”

=====================================================
